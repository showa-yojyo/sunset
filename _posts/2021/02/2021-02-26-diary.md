---
title: 306 日目（曇り）今月も成果なし
---

寝る寸前までビデオゲームをやると体調に支障があるのだが、経験値稼ぎくらいならいいだろう。
闇落ちした集落を襲撃してウディター組のレベルを上げる。ダンジョン一階の宝箱も開けておく。
今日はこのくらいにしておく。

7:00 起床。朝方妙に温くて体力が減っていない。朝食をとって出勤。今月最終営業日。

途中、コンビニで週刊モーニングをチェック。イチジョウや何食べに加えて、今話題になっている島耕作もチェックしておく。
隔離場所に移動するときのエピソードがリアルだということが未体験でもわかる。
なぜなら生活保護申請後の仮住所に案内されるときと同じ空気が表現されているから。

業務報告書は今日出せるはずだったが、体温表というのをなぜか付録する必要があり、そのカレンダーが出勤日でない月末まであるので出せない。
そのことを注意する手紙をもらっていたはずだが、仕事袋になぜか入っていない。部屋に戻ったら確認するか。

8:00 から二時間ゴミと清掃。ふざけた住人がいてゴミの分別で時間をほとんど持っていかれる。
あと、久々に私を導く謎の住人と再会。シールがあるのになぜか数日前から未回収の粗大ゴミについて、清掃事務所に電話するといいという助言をもらう。
さっそく連絡する。結論から言うと回収日は明日で、ゴミを出した人が気が早かったというだけだった。

10:15 本部に電話が通じないので撤収。イトーヨーカドー曳舟店に寄って体温を調べてから曳舟の部屋に戻る。
書類を進める。あとで福祉事務所に持参する書類の方は内容がスカスカで困った。

PC の電源を入れて時間つぶし開始。Bash の昔の What's New をチェックする。

12:00 おやつ休憩。イルベロスティルのビデオをダウンロードしていたのでそれを観ながら。
97 億点に到達しているので、ぜひとも採り入れたい。
ボスラッシュの最初の悪魔神官風を瞬殺しているが、これはどこにダメージを与えているのだ？
あと、スタッフロールが全然違っていて面白い。

[ウルファールのサンプルゲーム with DTC][bshf21b] の探索の続きとレベル上げ。
パーティーをウディター組で固定してエディがレベル 50 を突破している。
雑魚キャラの付いた宝箱はほとんど開けた。アムルアムト以上の敵が付くものが未開封。
徘徊している強敵は減らしていない。通せんぼから先に進んでいない。

13:40 区役所と秋葉原に行くまで時間を空けたいので昼寝。15:30 過ぎに起きる。外出。

三ツ目通りを南下中にセブンイレブンに立ち入ってスペリオールの芹沢のハゲをチェック。
今回のエピソードはまだ話が見えないが、かえって興味をそそられる。

16:00 区役所到着。議会側出入口から進入してトイレに移動。それから福祉事務所に入る。
結論から言うと担当 I 氏には前回同様先客対応で会えず。今月は求職活動が弱いから報告しにくかったので助かった。
代理の職員に書類を手渡して退散。

歩いて吾妻橋を渡って都営浅草線浅草駅に移動。地下鉄に乗って小川町に向かう。

秋葉原 HEY 二階に行ってまずはイルベロをワンプレイ。まさかのラスボス戦でゲームオーバー。
いったん退店して昌平まちかど図書館に移動。週刊新潮、東京新聞、週刊文春、産経新聞をチェック。
そういえば今日は二・二六事件の日なのだった。東京新聞の裏面と池上彰先生の連載はそこを意識していてお見事。

18:10 小諸そば昌平橋店。430 円。かき揚げそば大盛り。
待ち時間に携帯電話をチェックしたら、メール着信あり。仕事関係かと思ったら GitHub からのビルドエラーの自動メールだった。
当ブログの昨日のプッシュでビルドが壊れた。あちゃあ。

秋葉原 HEY 二階に戻りイルベロにどっぷり浸かる。トータル 5 クレ遊ぶ。
とりあえずだが 2 レコードぶんランキングを更新しておく。全盛期のスコアがまだまだ戻ってこない。

21:25 退店。地下鉄から押上駅に移動。

22:20 ビッグエー墨田業平店。415 円。

* キレートレモン C (500)
* 大きなおむすび豚味噌
* ハムマヨパン
* ツイストドーナツ (3)
* ドラゴンポテトたらこバター (+30%)

22:30 曳舟の部屋に戻る。即入浴。23:00 出る。PC に戻って書き物色々。
さっきの Jekyll ビルドエラーをローカルで試すが、もちろんふつうに通る。
正確に言うと今書いている今日の部分でエラーが出るだけだ。これはマークアップの不具合なので直せる。
GitHub にプッシュしたファイルが通らない理由がないのだが。

とりあえず、別件のスニペッツ定義ミスがあったのでついでにプッシュし直す。
せっかくテザリングをオンにしたので Twitter でも見るかとブラウザーを開いたら激重なのでやめる。

## Bash Note

バージョン 3.x で追加された新機能のメモ。パイプのデバッグ用機能を除いてすべて重要。

* 一般化された中括弧展開演算子。`echo` で試すのがもっとも簡単だと思われる。
  * 例：`{1..10}`, `{10..1}` などで数列を展開する。空白文字区切り（以下同様）。
  * 例：`{a..z}`, `{z..a}`, `{e..m}`, etc. で文字列を展開する。
  * 例：`"Number #"{1..4}`, etc. で分配法則が働いて展開する。
  * 例：`{1..3}{x..z}" +"` で直積を展開する。だからこの例では末端に要らない `+` が残る。
  * 例：`{% raw %}{{a..c},{1..3}}{% endraw %}` とすると、まず `{a..c}` を展開してその次に `{1..3}` を展開する。
    中央にある `,` に注意すること。
* 配列の添字を展開する演算子 `${!array[@]}`
  * 何に利用できるか考えてみよう。
* 正規表現マッチング演算子 `=~`
  * 二重角括弧の内部で用いる。
  * 例：`if [[ "This is a fine mess." =~ T.........fin*es* ]];`
  * こういう状況における正規表現に対して引用符で囲むのは望ましくないとある。
    正規表現を展開するのに失敗するかもしれないそうだ。
* オプション `set -o pipefail`
  * これは使わないと思われるので割愛。
* 演算子 `+=` が使いやすくなった。代入演算子 `=` しか使えなかった状況で `+=` も使えるようになる。
  * とりわけ `PATH` の追加に使える。
* その他バグ修正。割愛。

バージョン 4.x で追加された新機能のメモ。

* 連想配列
  * `declare -A array` の宣言が必要となる。いきなり連想配列の構築をしてもおかしなことになる。
  * キーも値も同時に定義することになる。
  * ここでさっきの `${!array[@]}` が有用になる。
  * キーは空白文字を含むことができるが、空白文字しか含まないものは認められない。
* `case` 文の構文が拡張。`;;&` および `;&` で終了することもできる。
  * `;;&` は次の行のあるテストに進むことを意味する。つまり C/C++ の `switch` 文でいう `break` をしない。
  * `;&` は次の行にあるテストを無視して、そこにある式を実行する。
  * 複雑な `if` 文の代わりに採用される機能とのことだ。
* `coproc`
  * 《There is a new 'coproc' reserved word that specifies a coprocess:
    an asynchronous command run with two pipes connected to the creating
    shell. Coprocs can be named. The input and output file descriptors
    and the PID of the coprocess are available to the calling shell in
    variables with coproc-specific names》(Chet Ramey, *Bash FAQ*).
    よそのプログラミング言語でいうコルーチンに相当するものだろう。
  * `coproc` で定義したブロックを coprocess と呼ぶ。これは非同期実行される。
* `mapfile`

[bshf21b]: https://wodifes.net/game/show/446
