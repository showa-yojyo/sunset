---
title: 457 日目（雨のち晴れ）一回目の使用で崩壊
---

寝る前に YouTube をいろいろチェックしておく。

* [『​スサノオ～日本神話RPG～』＆『イルベロスウォンプ+ラジルギスワッグ』実況プレイ／電撃ゲームライブ&#x23;042 夏休み突入SPより【MC：前田佳織里】 - YouTube](https://www.youtube.com/watch?v=Xb6tZKME8qc&feature=youtu.be):
  後半が我らがイルベロ新作の紹介時間。
* [電子レンジで麻雀短編映画つくってみた - YouTube](https://www.youtube.com/watch?v=_ug1mbToGt8):
  電子レンジの中にビデオカメラを固定するという発想がなかなかできない。
* [Dance of Pales (Castlevania: Symphony of the Night) - YouTube](https://www.youtube.com/watch?v=A4t7uNyvaXU):
  楽曲と演奏者がいいとピアノ一丁でいいのだ。

1:50 消灯。

7:05 起床。納豆と米を食う。雨が降っているのでゴム長で出勤。
しかし雨のピークは交差点で信号待ちをしているときしかなかったので、いつもの靴でなんとかなったようだ。

7:45 現場。ゴミいっぱい。ゴミ出しの時間帯だけ雨が落ち着いている。合羽を着なくて済む。
いつものようにゴミの量が多いので時間がかかる。今日は変なゴミはほとんど見当たらない。

10:00 終了。館内の清掃がほとんどできない。仕方がないので撤収。
イトーヨーカドー曳舟店で体温チェックとトイレ。

10:40 曳舟の部屋に戻る。ゴム長を脱いだら、この前買ってから初めて使ったインソールがボロボロ。
サイズが大きいのでハサミで切って使うのが丁寧なのだが、面倒なので省略したらこのザマか。

汗を拭いてから洗濯機を回す。PC に白ブリーフと黒靴下姿で張り込む。イルベロ 4 面の中型機のスタイルだ。

11:05 洗濯機の運転が終わると同時に `gl.compressedTexImage2D` のコードが動く。これはうれしい。

* [算譜記録帳: WebGLでDDSテクスチャを表示する](http://mklearning.blogspot.com/2014/10/webgldds.html):
  この記事がたいへん参考になった。XHR を当世風に `fetch` に置き換えて非同期処理にし、
  上記関数をループの中に入れるだけで動作する。

[移植版](https://gist.github.com/showa-yojyo/a21b1feb0dca84bcc61fe50c4c00c714)完成。
サイコロの DDS のデータを軽くチェックすると、次のような構成だ：

```text
level 0: 512x512 length: 262144
level 1: 256x256 length: 65536
level 2: 128x128 length: 16384
level 3: 64x64 length: 4096
level 4: 32x32 length: 1024
level 5: 16x16 length: 256
level 6: 8x8 length: 64
level 7: 4x4 length: 16
level 8: 2x2 length: 16
level 9: 1x1 length: 16
```

サイコロがカメラに近ければ近いほど細密なテクスチャーを描画したいというのが狙い。
DDS 圧縮テクスチャー画像データには、そのようなテクスチャーが詳細レベル別に定義されているというわけだ。

次の章へ進む。

* [Tutorial 6 : Keyboard and Mouse](http://www.opengl-tutorial.org/beginners-tutorials/tutorial-6-keyboard-and-mouse/)
  * この章でカメラを動かす。具体的には `MVP` の更新を描画ループに移す。
  * アニメーションではデルタタイムで考えるのがやはり基本のようだ。
  * ここはすぐに終わりそう。

12:05 おやつ休憩にしたい。

12:30 再開。

* キーボードイベントとマウスイベントをハンドルしたいので、`canvas` を修正。これは覚えた。
* [KeyboardEvent.code - Web APIs &#x7c; MDN](https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/code): 便利。
* [JSDoc: Module: vec3](https://glmatrix.net/docs/module-vec3.html): いまさら gl-matrix-min.js のドキュメント？を見つける。
  ベクトルの加法すらわからなかったからこんなスカスカなものでもありがたい。

15:10 寝る。

16:20 起きる。今日はもう雨は降らないようなので、身軽な格好で外出。
スカイツリータウンにダラダラと移動。トイレと書店を利用。
週刊アエラ、週刊ニューズウィーク日本版、週刊ダイヤモンドをチェック。

17:30 バス停から錦糸町駅行きに乗る。錦糸公園前で降りてオリナスへ移動。

18:00 タイトー F ステーションオリナス錦糸町店。MJ プロ卓東風戦 5 クレ。
今日も上級者地獄を味わう。少し気を抜くと一気に崩れるから恐ろしい。
最後トップでコンティニュー無料の権利を得るが、選択画面でちょうど受付締切時刻になるという無情。

```text
【SCORE】
合計SCORE:-58.3

【最終段位】<
四人打ち段位:伏龍 幻球:7

【7/27の最新8試合の履歴】
1st|-------*
2nd|-----*--
3rd|-**-*-*-
4th|---*----
old         new

【順位】
1位回数:1(14.29%)
2位回数:1(14.29%)
3位回数:4(57.14%)
4位回数:1(14.29%)
平均順位:2.71

プレイ局数:36局

【打ち筋】
アガリ率:13.89%(5/36)
平均アガリ翻:3.40翻
平均アガリ巡目:9.40巡
振込み率:5.56%(2/36)

【7/27の最高役】
・跳満
```

19:55 カスミオリナス錦糸町店。373 円。

* オクラ茄子丼
* 骨なしフライドチキン
* ブラックチョコ

20:15 ビッグエー墨田業平店。176 円。

* 絹豆腐 (2)
* さっくり食パン
* コッペパンブリーベリー

20:25 曳舟の部屋に戻る。湯沸かし器の電源が入ったままだった。しかもカップ麺を調理したときの設定の最高温度で。
食い物を冷蔵庫に入れてから風呂場でシャワーを浴びる。

風呂から出て白ブリーフ一丁のまま PC に身を委ねる。豆腐を食う。
明日の面接前後の予定を案じつつ晩飯、麻雀の練習。

VS Code の Google 日本語入力が重くなったのでエディターの方を再起動。
ついでにさっきの WebGL コードを書けるところまで書く。

22:05 オンライン作業。調べ物。

23:05 Tutorial 6 の WebGL 移植はキリがない。UI イベントで微調整が必要。
例えばマウスカーソル位置のリセットは JavaScript では不可能なので、
前回のカーソル位置を記憶して差分ベクトルから角度を算出するように変更するなどしてしのぐ。

カメラ操作を実装すると、射影のアスペクト比がおかしいままなのが気になる。
未だに修正方法がわからないのだ。矩形サイズが複数種類あって混乱している。

HTML でマウスカーソルイメージを変える方法を習得。CSS で事足りる。
