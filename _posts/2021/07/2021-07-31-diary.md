---
title: 461 日目（晴れ）コマンドを一つ覚えると昔のを一つ忘れる
---

キャンバス上にテキストを描画する方法を今月の日記に残しておいたのだが、それを探すのに手間取る。
[ここ]({% post_url 2021/07/2021-07-08-diary %})だ。基本的なやり方は：

* 静的に `span` タグを HTML に置く。
* `document.createTextNode("")` の戻り値を `appendChild` する。
* `requestAnimationFrame` から呼び出される描画関数で、このテキストノードの
  `nodeValue` に文字列を代入する。
* 見てくれは CSS で調整する。

時間が余ったのでテストデータを捜索する。昔あったティーポットのモデルを。
SIGGRAPH のサイトにダウンロードがあるのを発見。しかし中身を見ると C のコードで、
関数を二つ自作？しないとデータが得られない？
ベジエ曲線のコールバックらしい。

* [【音ゲーオリジナル振り付け】ナイトシティ・アヴァンチュール - YouTube](https://www.youtube.com/watch?v=kNghqwxnW8E):
  DANCE RUSH などにあってもいいのではないだろうか。

2:30 消灯。ようやく寝る。目が覚める前に夢を見る。昔住んでいたところの近所をブラブラしている。
いつの間にか雑居ビルに迷い込む。狭い迷路のようだ。
やがて携帯電話を床から拾う。耳を当てて見ると私を探していた二人組の一人からの通話が始まる。
これは私の持ち物だったらしい。落ち合う場所を約束して通話を切る。
再び移動し始めると、周りの様子がすっかり現代的に変貌していることに気づく。そこで目が覚める。

10:20 起床。納豆とコロッケバーガーを胃に収める。バイトの業務報告書を作成する。
[LibreOffice] Writer での Google 日本語入力の動作は VS Code でのひどいときのそれ
よりも遅い。

11:15 報告書完成。郵送しに外出。
イトーヨーカドー曳舟店で今月最後の体温チェック。そしてトイレ。

コンビニに寄って PDF 印刷、就労活動報告書の用紙をコピー。30 円。

ひきふね図書館。朝日新聞と『たそがれたかこ』第一巻後半を読む。

12:25 曳舟の部屋に戻る。WebGL のコード整形などをやる。機能追加。

* 画面にカメラ位置、回転角度二つをフレームごとに描画する。HTML 要素として処理。
* プログラムの出典を明記。

これでビデオ撮影してもなんとかわかってもらえる形になった。

14:05 おやつ休憩。

* [【寝れマレん】Mare Nectarisエクハするまで寝れない配信 / beatmania IIDX 定期配信 &#x23;127【音ゲー / DOLCE.】 - YouTube](https://www.youtube.com/watch?v=LJijSMlfXFg):
  DOLCE プロのご友人が業務用でエクハチャンレンジに成功しているが、この企画はやはりまともじゃない。

15:00 外出。ストレートに押上駅に移動できるのがうれしい。地下鉄で船堀駅に向かう。

16:00 セガ船堀店。涼しい店内でゆっくりゲームに興じる。

MJ プロ卓東風戦 6 クレ。数字に出てこない幻球サシウマと経験値バトルも成績が悪い。
今月のプロ卓東風戦のトータルがマイナ 800 点とかそこら。四ケタ行かなくてよかった。

```text
【SCORE】
合計SCORE:-83.9

【最終段位】
四人打ち段位:伏龍 幻球:1

【7/31の最新8試合の履歴】
1st|--------
2nd|---***--
3rd|-*----**
4th|*-*-----
old         new

【順位】
1位回数:2(16.67%)
2位回数:3(25.00%)
3位回数:4(33.33%)
4位回数:3(25.00%)
平均順位:2.67

プレイ局数:70局

【打ち筋】
アガリ率:15.71%(11/70)
平均アガリ翻:2.91翻
平均アガリ巡目:10.64巡
振込み率:11.43%(8/70)

【7/31の最高役】
・跳満
```

19:00 過ぎに退店。船堀駅から住吉駅に地下鉄で移動し、バスで錦糸町駅ターミナルへ移動。
ダラダラとオリナス錦糸町へ向かう。

20:15 カスミオリナス錦糸町店。459 円。クーポン使用。

* 生姜焼き丼
* ブラックチョコ (2)
* 野菜ジュース (900)

20:40 ビッグエー墨田業平店。313 円。

* 絹豆腐 (2)
* スライスチーズ (5)
* おにぎりセット
* コッペパンホイップ＆カスタード

太平四丁目は涼しいのに業平四丁目を超えると暑くなる気がしてならない。
20:50 曳舟の部屋に戻る。暑いのでシャワーを浴びる。

風呂から出て晩飯を食いつつ PC とにらめっこ。月末なので家計簿を完成させたい。
携帯電話から銀行口座の取引を確認できるのがメチャクチャありがたい。

21:55 数字チェック終了。オンライン作業に移行。情報収集を少ししてから
WebGL 移植作業の結果をビデオ撮影。MP4 の最適化のコマンドをしょっちゅう使いたいので
シェルの関数にしておく。`mktemp` のじゅもんをおぼえた！

```console
bash$ mktemp -u --suffix=.mp4 XXXXXXXXX
```

23:05 Twitter に投稿兼バックアップ。
タイムラインにおさるさんの絵を出現させてフォロワーの皆の衆を困惑させる悪いプラクティスだ。

[読書ノート][note]の WebGL のページも加筆しておく。

[LibreOffice]: https://www.libreoffice.org/
[note]: https://showa-yojyo.github.io/notebook/
