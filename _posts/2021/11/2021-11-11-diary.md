---
title: 564 日目（晴れ）デバッグマン
---

今さら気づいたが `gluLookAt` を quaternion に置き換えることはできない。並進量が失われる。
したがって既存のコードから `lookAt` を廃止することはしない。

カメラ操作にまだこだわる。パンを次にやりたい。面倒な印象があるが、昔のコードによると
それ用の変換行列を射影行列のすぐ右に置くようだ。問題は z 座標の値をどう決めるかだが……。

* [c++ - Qmatrix4x4 translate does not take any effect - Stack Overflow](https://stackoverflow.com/questions/54491410/qmatrix4x4-translate-does-not-take-any-effect/54491988#54491988):
  C++ は関係ない。理論はここのコメントで事足りそうだ。そう信じていたい。

| 難度 | 課題 | コメント |
|------------|------|-------|
| ★ | 十字キーでシーンを一定量パンする | 移動量を勝手に決めてよい |
| ★★ | マウスでシーンを移動量に応じてパンする | 移動量を適切に求める必要がある |

* [つぐない/テレサ・テン/Tsugunai/Teresa Teng/鄧麗君/Piano - YouTube](https://www.youtube.com/watch?v=9q80YIyBIJ4):
  ピアノだとやはりしっくり来る。
* [KinKi Kids 『硝子の少年』 ピアノ ～猫と一緒～ - YouTube](https://www.youtube.com/watch?v=NxvLRhmz8uc):
  猫が動かない。
  
寝る前に麻雀の練習。三倍満を久々にアガる。

![豪快]({{ "/assets/images/20211111-mattari.png" | relative_url }})

2:20 就寝。

7:05 起床。眠い。納豆とおにぎりを食う。出勤。

7:45 現場。ゴミ出しなし。しかし久々にイヤなゴミが出ているので分別。液体を捨てるな。
秋ゆえ外回りの掃き出しが面倒なことになる。ガラスクリーナーも大量に入手したので、管理人室の窓口のガラスを拭く。
それでも水垢というのか、くすみが取れない。困ったものだ。

10:10 撤収。イトーヨーカドー曳舟店。体温チェックと手洗い。

曳舟の部屋。PC を起動。

* [【灼熱蛇棒】ベタな皿曲いろいろ詰める回。CastHour 配信【音ゲー / beatmania IIDX / DOLCE.】 - YouTube](https://www.youtube.com/watch?v=LD0qC4VMZnY):
  おそらく本作での BAD 判定の変化を確実に確認するべく、プロの得意曲で詰めるという趣旨だと思う。

WebGL のシーン操作にパンを実装する件、細かいパラメーターを気にしなければ完成する。
マウスイベント、キーイベントなどの処理周りを構造化しないとこの先の発展がない。
`canvas.addEventHandler(...)` のように、自作のオブジェクトが `addEventHandler` をできるといい？
イベント経路管理に関する JavaScript の知識を増やす必要がある。

12:00 おやつ。

13:05 テンキーのプラスキーとマイナスキーでズームイン・ズームアウトをできるように追加実装。
またコード整理だ。JavaScript とは言えどもクラス継承の記法くらいは存在するだろう。

13:20 眠い。昼寝。

16:30 起床。まだ眠いが外出。

スカイツリータウン二階。三省堂書店を一巡り。
ファミ通が来週発売のイルベロ新作をレビューしているという情報があるのでチェックしたいが、ない。

トイレに行ってから押上駅バス停。バスに揺られて錦糸公園前に移動。

17:15 オリナス錦糸町二階。ベンチで休憩。携帯電話で情報収集。贅沢を言うとフリー Wi-Fi が欲しい。

18:00 タイトー F ステーションオリナス錦糸町店。MJ プロ卓東風戦 5 クレ。
連日トップがゼロだが、上級者の直近着順をチェックすると八連続トップなしは別に珍しくない。
したがって、下級者の私が二日三日トップなしなのは不思議ではない。
それにしてもショボい。

```text
【SCORE】
合計SCORE:-94.2

【最終段位】
四人打ち段位:賢者 幻球:6

【11/11の最新8試合の履歴】
1st|--------
2nd|**-*---*
3rd|--*--*--
4th|----*-*-
old         new

【順位】
1位回数:0(0.00%)
2位回数:4(50.00%)
3位回数:2(25.00%)
4位回数:2(25.00%)
平均順位:2.75

プレイ局数:39局

【打ち筋】
アガリ率:15.38%(6/39)
平均アガリ翻:3.17翻
平均アガリ巡目:11.33巡
振込み率:7.69%(3/39)

【11/11の最高役】
最高役のデータがありません。最高役は、跳満以上のアガリが対象となります。
```

20:00 カスミオリナス錦糸町店。437 円。クーポンゲット。

* オクラナス丼
* ハムカツ
* ブラックチョコ (2)

20:20 ビッグエー墨田業平店。287 円。

* ピザパン
* 絹豆腐
* カレーヌードル
* ツイストドーナツ (3)

20:30 曳舟の部屋。シャワー。風呂から出て晩飯。PC 起動。オクラが美味い。

インターネットをチェック。WebGL のデモを録画。不出来でも不評でも Twitter への投稿を続ける。
とにかく継続することがたいせつだ。

22:15 メールチェックを忘れている。新たなる着信はない。

* [憧れの舞台のWSOPメインイベントに初出場！ - YouTube](https://www.youtube.com/watch?v=-4woxpwuGyE):
  高校球児の喩えが秀逸。

JavaScript のクラスの継承について調べる。Google で検索するときには es6
または 2015 をキーワードに含める。共通コードを基底クラスに一元化して、
モジュールを新しいサブディレクトリーに移す。これはだいぶスッキリする。

* [秋のシューティング祭り2021　そけっと vs ガーディアンフォース　2021/11/11 - YouTube](https://www.youtube.com/watch?v=--d8AyjxN98):
  店長が終盤に興味深いことを言っている。サクセスは上海とか定番ゲームのライブラリーがすごいらしい。
