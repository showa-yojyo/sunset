---
title: 557 日目（晴れ）ここ何年まともな茶を飲んでいない
---

CG でおなじみのあのティーポットは次のアドレスに Wavefront OBJ フォーマットで存在する：

* https://graphics.stanford.edu/courses/cs148-10-summer/as3/code/as3/teapot.obj:
  ダウンロードしてチェックするとすぐにわかるが、このデータはインデックスがない。
  それどころか、法線やテクスチャー座標がない。
  前者はともかく、後者は自分で計算するのは無理だ。よってボツ。
* https://www.cs.utah.edu/~natevm/newell_teaset/newell_teaset.zip:
  解凍して中身をチェック。こんな行がある：

  ```text
  f 1/1/1 2/2/2 3/3/3 4/4/4
  ```

  一つの面 (f) が三角形一つで表現されないことを示唆しているのは明らか。

* [java - Converting quadriladerals in an OBJ file into triangles? - Stack Overflow](https://stackoverflow.com/questions/23723993/converting-quadriladerals-in-an-obj-file-into-triangles):
  上記のような f の記述は三角形の GL_TRIANGLE_FAN 形式での連なりだとある。
  そういえばティーポットのワイヤーフレームを見ると、蓋の形状などはそんな感じがする。

  ふと思い出して [WebGL2 Fundamentals] の `cube.obj` を読むデモを見返す。
  GL_TRIANGLE_FAN の処理が確かにある：

  ```javascript
  f(parts) {
      const numTriangles = parts.length - 2;
      for (let tri = 0; tri < numTriangles; ++tri) {
          addVertex(parts[0]);
          addVertex(parts[tri + 1]);
          addVertex(parts[tri + 2]);
      }
  }
  ```

7:05 起床。納豆と米を食う。出勤。

7:45 現場。不燃ゴミ。館内清掃。
ある一室の郵便受けに水道局からの封筒が挿し込まれたまま三日目だ。入居者は旅行中か？

10:00 おとといの粗大ゴミを件を本部に電話して撤収。

イトーヨーカドー曳舟店。体温チェック。この温度は今月三回目。

曳舟の部屋。とにかく寝る。妙な長い夢を見る。
後半は下品なゲームを開発。

14:15 起床。おやつ。PC を開く。メールアイコンが出たのでチェック。
おととい、コナミメールマガジンみたいなのから武装神姫のカムバックキャンペーンの案内を着信したようだ。
きのうはそうとは知らずに遊んだ。

* [未プレイのLv12埋めていくぞ！！ - YouTube](https://www.youtube.com/watch?v=pYTWxk_KN50):
  YouTube の仕組みがよくわからないが、コピーライツ楽曲が演奏されると強制ミュートでもされる？

14:45 [WebGL2 Fundamentals] 学習ノートの Load OBJ の章のコードをそのまま使ってティーポットを描画できるか試す。
すんなり絵が出る。

15:30 YouTube を少しチェックしてから外出。

押上駅バス停。かなり待って乗車。錦糸町駅前へ。

16:20 ハローワーク墨田。トイレ。窓口。求人票のストックから二社ぶんの紹介状をゲット。
それから二階に上がり、ベンチで紹介状を撮影。手ブレが取れないが仕方がない。

17:05 退庁。

17:15 オリナス錦糸町二階。ベンチで携帯電話をチェック。

18:00 タイトー F ステーションオリナス錦糸町店。MJ プロ卓東風戦 4 クレ。
いたってありがちな成績。おとといのハマリは何だったのだろう。

```text
【SCORE】
合計SCORE:+54.0

【最終段位】
四人打ち段位:賢者 幻球:4

【11/4の最新8試合の履歴】
1st|-----**-
2nd|*---*---
3rd|---*---*
4th|-**-----
old         new

【順位】
1位回数:3(33.33%)
2位回数:2(22.22%)
3位回数:2(22.22%)
4位回数:2(22.22%)
平均順位:2.33

プレイ局数:45局

【打ち筋】
アガリ率:15.56%(7/45)
平均アガリ翻:3.71翻
平均アガリ巡目:10.71巡
振込み率:6.67%(3/45)

【11/4の最高役】
・跳満
```

20:15 カスミオリナス錦糸町店。429 円。クーポンゲット。
たまにクーポンを置いていく客がいるのだが、私が拾っていきたい。

* 鶏五目ご飯
* 唐揚げレモンペッパー (3)
* ブラックチョコ (2)

20:40 ビッグエー墨田業平店。295 円。

* 絹豆腐
* ミニ稲荷寿司 (3)
* チキンカツバーガー
* ツイストドーナツ (3)

20:50 曳舟の部屋。シャワー。PC と晩飯。

22:00 応募作業。写真のインポートがいつも遅いのは何だ。

22:25 終了。インターネットに接続したまま作業。

* [&#x23;681 たけしの戦国風雲児［2回目］ BGM ギターメドレー - YouTube](https://www.youtube.com/watch?v=n5cWaXjaIiU):
  一回目 (&#x23;17) と聴き比べてみる？ と思ったが、聞き覚えのある音と確かに異なる。
* [未プレイのLv12埋めていくぞ！！ - YouTube](https://www.youtube.com/watch?v=pYTWxk_KN50):
  このチャンネルの放送はいい感じに緩い。

ティーポットのデモを少し改良する。ポットを自身の座標系の三軸のいずれかで回転させられるようにする。
HTML ページの方も殺風景だから静的なテキストを追加する。
ビデオ撮影して Twitter に投稿。Windows のキャプチャーツールは子ウィンドウを拾ってくれないのか。

Windows の 3D ビューワーを少しいじる。シェーディングが美麗。早く追いつきたい。

[WebGL2 Fundamentals]: https://webgl2fundamentals.org
