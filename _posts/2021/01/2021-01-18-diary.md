---
title: 267 日目（曇りのち晴れ）そろそろ不採用が 20 社いきそう
---

麻雀の練習をして 0:30 に消灯。日中寝過ぎた。そして 9:20 起床。どうしてこうなるのか。
朝食ののち PC カバンで外出。まずはパートタイムの給与明細を届けに区役所へ。徒歩。

10:10 区役所到着。トイレのあとで福祉事務所へ。担当の I 氏を待っている間、
扶助費を使い込んだと思しきジイサンを軽い調子でいさめる前担当の S 氏の声が聞こえてくて笑える。

実際の収入発生時と収入申告書の提出タイミングの関係が未だにわからないが、
とりあえず先月分のギャラを振り込まれた今月分の収入として申告しておく。このへん難しい。

10:30 退館。三ツ目通りのバス停へ移動。金町駅行きに乗って四ツ木橋西詰に移動。夏を思い出す。
徒歩で八広図書館へ。朝刊（東京）を読んで入館。キャレルに着席。

* メールチェック
* Python のモジュールを更新。かつ、入っていないモジュールをインストール：

  ```console
  bash$ conda install lxml
  bash$ conda install xlrd xlwt openpyxl xlsxwriter
  bash$ pip install odfpy
  bash$ pip install pyxlsb
  bash$ conda install seaborn
  ```

* それ以外やることが特にないので、YouTube で時間つぶし。

退館。イトーヨーカドーに立ち寄ってから 13:20 曳舟の部屋に戻る。
おやつ休憩。麻雀の練習。眠くなって二時間ほど寝る。16:40 外出。押上駅バス停へ。

バスの中で携帯電話でメールチェック。先週の面接の結果がメールで来ている。
覚悟していたように不採用。クビになった会社の社長の知人の会社では無理だ。

17:15 タイトー F ステーションオリナス錦糸町店。7 クレ。
MJ プロ卓東風戦。今日は凹みで終了。

```text
【SCORE】
合計SCORE:-56.3

【最終段位】
四人打ち段位:魔神 幻球:8

【1/18の最新8試合の履歴】
1st|-----*--
2nd|***---*-
3rd|---*---*
4th|----*---
old         new

【順位】
1位回数:1(11.11%)
2位回数:4(44.44%)
3位回数:2(22.22%)
4位回数:2(22.22%)
平均順位:2.56

プレイ局数:43局

【打ち筋】
アガリ率:16.28%(7/43)
平均アガリ翻:3.57翻
平均アガリ巡目:12.14巡
振込み率:11.63%(5/43)

【1/18の最高役】
・跳満
・跳満
```

ビートマニア。Abraxas みたいな名前のレベル 11 の曲にクリアランプを点灯する。

19:50 カスミオリナス錦糸町店。367 円。
半額タイムで 550 円の弁当が 275 円なのはありがたすぎる。

* ブラックチョコ
* 中華弁当（玉子と豚肉・鶏肉カシュー・麻婆豆腐）

20:10 ビッグエー墨田業平店。271 円。

* 大きなおむすび梅と昆布
* おにぎりおかかとツナの醤油ご飯
* ジャムパン
* スコーンバーベキュー (+10%)

20:25 曳舟の部屋に戻る。PC 作業とメシ。麻雀の練習。
VS Code をいったん閉じてからテザリング。

当日記でたびたび言及している地獄の伯爵令嬢の逆襲の[改訂増補版？](https://www.freem.ne.jp/win/game/24805)がリリースされたもよう。
この作品はみんなに遊んで欲しいと思っていて（他の人がどういう感想をするのか想像がつかないので、実際に見たい）とうとうその機会がやって来たようだ。
しかし携帯電話の通信量がもう 2.5GB オーバーなので、ダウンロードするのは明日図書館で。

21:45 いったん PC から離れる。風呂だ。22:40 出る。明日は洗濯だ。
不採用になった会社の資料を用済み封筒に入れて整理。

Pandas のパフォーマンスに関する章を気楽に学習。23:35 終了。
明日はバイトなので今日中に就寝する。

## Pandas Note

この章では Pandas のある種の関数を高速化する三つの手法について見ていくということだ。
したがって、学習の優先順位は低い。

* Enhancing performance
  * Cython (writing C extensions for pandas)
    * ふつうは純粋な Python と NumPy でコードを書けば十分だ。
    * Cython 化することでここに挙げる例では 100 倍高速化する。ちなみにこの例は定積分に見える。
      関数名も `integrate_f` だ。
    * `%load_ext Cython` と `%%cython` とは何だろう。
    * 二個目の `%%cython` のコードは私にとって未知の技法が使われている。
      学習の優先順位が低いとか言っている場合ではないのかもしれない。
    * Cython と NumPy は相性が良いということは憶えておいて損はない。
    * `.to_numpy()` が活きるのはここだ。
    * Cython を使うことによる短所として、C 言語によるありがちなプログラミングミスを避けないといけない。
  * Using Numba
    * Numba は `conda` でインストールできる。
    * Python で書いた関数を `@numba.jit` で decorate することで JIT コンパイルする。
    * Numba 関数には NumPy 配列を直接渡すことに注意。
    * `@numba.vectorize` によるベクトル化
    * Numba が高速化できる関数は限定的
  * Expression evaluation via `eval()`
    * `pandas.eval()` をフル活用するなら numexpr をインストールすること。
    * 巨大な `DataFrame` と算術演算に対して効果的だ。
    * `DataFrame` のメソッド `.eval()` も利用するといい。
      * 真偽値型のキーワード引数 `inplace` というのがあり、想像通りの振る舞いをする。
        これは `.query()` についても同じことが言える。
      * ローカル変数の指定法
    * バックエンドエンジン
      * `parser=pandas`
      * `parser=python`
    * 時間型値を含むデータについては Python で処理すること。
