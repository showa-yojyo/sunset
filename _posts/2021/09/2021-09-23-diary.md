---
title: 515 日目（晴れ）今日床屋に行けたのは大きい
---

1:50 就寝。

7:05 起床。納豆とチキンカツバーガーを食う。出勤。

7:45 管理人室。第四木曜なのでゴミ出しがない。ヒマ。
ルーチンワークに加えて管理人室の床のシミ落としをする。

10:10 撤収。イトーヨーカドー曳舟店。体温チェックと手洗い。

曳舟の部屋に戻る。

* [WebGL2 Planar and Perspective Projection Mapping](https://webgl2fundamentals.org/webgl/lessons/webgl-planar-projection-mapping.html)
  * 投影写像。まず宙に浮く球と床のシーンを描く。
  * 最初にテクスチャーを球と床に投影する。クリップ座標空間外の点は無視するというのがミソ。
    これはシェーダーが投影座標を知っているというのが大きい。
  * 次に、前回のような錐体の輪郭をワイヤーフレームで描画するコードを追加する。
  * 次に、正射影も実装する。クリップ空間の範囲を調整する。
  * シェーダーのコード以外は習得済みの技法の組み合わせで事足りている。

コードの仕込みをやってからおやつ休憩になるだろう。

12:00 おやつ。

* [フェリオス - ゲームカタログ@Wiki ～名作からクソゲーまで～ - atwiki（アットウィキ）](https://w.atwiki.jp/gcmatome/pages/1784.html):
  ナムコ 1988 の作品か。実際に遊ぶプレイヤーからの評価は良さそうだ。裏から見ていると最終面道中が「？」なんだがなあ。

さっきのコードを段階的に完成させる。

* 市松模様のテクスチャーをグレースケールで作成しておいて、断片シェーダーで色相を決める手法。
* 写像用テクスチャーは F の回のものを使い回す。行列が難しいのであとで確認する。
* 断片シェーダーの `main` 関数局所変数 `projectedTexcoord` の型は `vec2` のほうが自然。
* こちらの環境はビューポートが広いので、球のメッシュをもっと細かくしてもいい。

13:20 投影写像動作確認。OpenGL 1.0 時代では考えられない手軽さ。

13:40 昼寝。

15:15 起床。この暑さは早く起きろということだな。外出。押上駅バス停へ。
バスで錦糸町駅前まで移動。祝日だがホープ錦糸町店に行ってみると、私らしからぬタイミングの良さで席が空く。
即散髪してもらう。1100 円。スタンプボーナスで次回は半額になる。

16:30 アルカキット錦糸町。トイレ。改装中につき注意。
くまざわ書店で雑誌チェック。あと WebGL2 本が出ているので気になる。四千円か。ゲーセン一週間分か。ダメだ。
漫画コーナーでむこうぶちの最新刊を探すが、そもそもバンブーコミックスの棚が見当たらない。

17:15 オリナス錦糸町へ移動。裏手の噴水ベンチで携帯電話をいじって時間つぶし。ここでの休憩は久しぶりだ。

18:00 タイトー F ステーションオリナス錦糸町店。祝日で混雑している。ビートマニア周辺がすごい。
プロも放送プレイしているし。

MJ プロ卓東風戦 5 クレ。ひどい思考回路停止に陥って、オーラスでほぼトップ目から親に倍満を放銃して一気にラスになったゲームには参った。
なんで安牌のつもりでダブ東ドラ 3 の筒子の仕掛けをしている親に赤五筒を切ってしまったのか。
私がそれまでベタオリしていることは全員の目から明らか。同卓者には私の振る舞いが意味不明だったと思う。
ワイルドピッチにもほどがある。

```text
【SCORE】
合計SCORE:-61.0

【最終段位】
四人打ち段位:覇者 幻球:6

【9/23の最新8試合の履歴】
1st|-------*
2nd|--*-*---
3rd|---*----
4th|-----**-
old         new

【順位】
1位回数:1(16.67%)
2位回数:2(33.33%)
3位回数:1(16.67%)
4位回数:2(33.33%)
平均順位:2.67

プレイ局数:37局

【打ち筋】
アガリ率:16.22%(6/37)
平均アガリ翻:3.67翻
平均アガリ巡目:13.67巡
振込み率:16.22%(6/37)

【9/23の最高役】
・跳満
```

19:50 カスミオリナス錦糸町店。430 円。クーポンゲット。さらに前の人が忘れ行った分を回収させてもらう。

* オクラ茄子丼
* とり天のり塩 (3)
* ブラックチョコ (2)

20:20 ビッグエー墨田業平店。339 円。

* 絹豆腐 (2)
* 小粒納豆 (3)
* ミニいなり (3)
* ソーセージパン
* コッペパンホイップ＆チョコ

20:30 曳舟の部屋に戻る。蒸し暑いので夏モードで行く。シャワーを浴びる。
風呂から出て白ブリーフ一丁で PC を開く。晩飯。いつもの麻雀の練習。

21:30 メールチェック。面接の時刻変更に承知してくれた。良かった。

* [WebGL2 Planar and Perspective Projection Mapping](https://webgl2fundamentals.org/webgl/lessons/webgl-planar-projection-mapping.html) 続き
  * 投影写像のボリュームをワイヤーフレームで描画する際に奥行き方向に 1000 も拡大する。
    床までの距離ピッタリに揃える必要もないので。
  * 透視図法に対応する際に `textureMatrix` の定義が変わる。
  * 理由は忘れたが、投影の定義域が ${[0, 1] \times [0, 1] \times [-1, 1]}$
    だったのでこれを ${[-1, 1] \times [-1, 1] \times [-1, 1]}$ に変更する。
    それにともない、再び `textureMatrix` を変更する。
  * 最後に行列の分析を試みる。いまいちきれいにまとめられない。

23:05 テクスチャー編を終了する。

* [&#x23;669 バーチャファイター２ Virtua Fighter 2 BGM ギターメドレー - YouTube](https://www.youtube.com/watch?v=msLTYhXzXb0):
  ゲームボーイから今度はアーケードへ？
* [歌舞伎町にリニューアルオープンしたスピードバトルの雀荘に挑戦してきた - YouTube](https://www.youtube.com/watch?v=x7_1PpP0JtA):
  私の立ち回りががまさに地蔵三着だ。
