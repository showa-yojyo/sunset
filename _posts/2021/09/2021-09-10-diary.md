---
title: 502 日目（曇りのち晴れ）やり残しの多い一日
---

YouTube でゲームのサントラを一本丸々聴いて 2:00 就寝。
今日は寝不足やら面接やらで疲れていたから早く寝たかったのではなかったのか。

7:05 起床。納豆と米を食う。出勤。今日は天気が良くなるようだ。

7:45 管理人室。可燃ゴミ搬出は前日までの仕込みが効いて短時間で終わる。
館内をひととおり清掃しても時間が余りまくる。トイレ掃除と管理人室の床のシミをゴシゴシ落とす作業をする。
撤収間際に消防設備点検メンが管理人室に入って作業を始める。
私は退勤時刻なので無言で撤収。戸締まりをどうするのかは聞いていない。

10:25 ビッグエー墨田京島店。214 円。

* 絹豆腐 (2)
* コッペパンブルーベリー
* ポテチ塩

いったん管理人室に戻る。まだ管理人室に一人作業員がいるので放置して帰ることにする。

イトーヨーカドー曳舟店で体温チェックと手洗い。
それからコンビニで雑誌チェック。週プレとスペリオール。
芹沢のハゲが連載始まって以来の絶体絶命のピンチだ。次回どうなる。

曳舟の部屋に戻る。白ブリーフ一丁で PC 作業。
インターネットでお宝探し。不調。

14:00 昼寝。暑いのだが湿気がないぶん楽だ。

15:30 起床。外出。

16:25 昌平まちかど図書館。週刊新潮、週刊文春を読む。退館。

17:20 秋葉原 HEY 二階。様子見。マイルシュー台はラジルギを遊んでいる客がいるので、私の財布はまだ軽くならずに済む。

17:45 小諸そば昌平橋店。380 円。二枚盛り大盛り。

また HEY 二階に戻る。イルベロ 4 クレとビートマニア 1 クレ。
イルベロは今週ずっと考えていたいくつかの実験をする。具体的には鍵面での経験値稼ぎをもっと絞るもの。
結論だけ言うと手応えあり。実験の一つがうまくいった。これでドールとバリアの両者同時レベルマックスが視野に入る。
真 ALL は一回しかできなかったが、今日は構わない。

退店。20:30 小川町駅で携帯電話をチェックすると留守番電話が入っている。二時間前か。ゲーセンでは気づかない。
前回応募した三社のうちの残り一社から質問があるとのことだった。変な時間にくれるものだ。

曳舟の部屋に戻る。室内が暑い。夏に戻ったようだ。シャワーを浴びる。
風呂から上がって白ブリーフ一丁で PC を開く。

Twitter のプロフィールを久々に見たら、貴重な女子フォロワーがポツポツ減っていて正直悲しい。

* [KONAMI lofi hip hop for chill/study/relaxing beats!(Short Ver.) - YouTube](https://www.youtube.com/watch?v=kV0iz0Qc0lk):
  全部聴いたが、こういう音楽は作業用の BGM にはしない。
* [WebGL2 - Cross Origin Images](https://webgl2fundamentals.org/webgl/lessons/webgl-cors-permission.html) 続き
  * まず教材のコードそのものを HTTP サーバーを起動して動作させてみる。
  * 次にコード中のパスをすべて相対パスに一時的に置き換える。次に CORS 関数を
    `file://` から始めるオリジンの場合にも `img.origin = ''` するように変更。
    すると、次のメッセージが出てエラーとなる：

    > from origin 'null' has been blocked by CORS policy: Cross origin
    > requests are only supported for protocol schemes:
    > http, data, chrome, chrome-extension, chrome-untrusted, https.

    ローカルディスクのイメージを読み込む WebGL コードを書くのは不能であることが確定したようだ。
    つまり、HTTP サーバーを走らせる手間を省くことはやはりできない。残念。期待していたのだが。
  * ところで、WebGL2 Fundamentals の著者はなぜここで太陽の塔を採用してくれたのだろう。
* [WebGL2 - Less Code, More Fun](https://webgl2fundamentals.org/webgl/lessons/webgl-less-code-more-fun.html)
  * 前半で `twgl` という名前空間が現れる。ここに定型処理を押し込んだらしい。
  * 今まで使っていた `resizeCanvasToDisplaySize` もここに移転した？
  * `gl.drawElements` のラッパーがあるようだが、これの説明がまだ。
  * 著者はこの `twgl` を自由に使って構わないと表明しているので、安心して利用できる。
  * ただ、このコードを学習するにはまだ早い。まだ読んでいないトピックがあった。
    3D Cameras の次に Lighting に進めるようだ（リンクがないが）。
* [WebGL2 3D - Directional Lighting](https://webgl2fundamentals.org/webgl/lessons/webgl-3d-lighting-directional.html)
  * コードを見ていないが、最初のデモはおそらく `acos` を使っているだろう。
  * 次のデモをいじると、物体の色がまともになる入射角はかなり限定されていることがわかる。
    単位ベクトル同士の内積が +1 に相当近くないと（どちらかのベクトルはこっそり反転させられている）色が着かない。
  * 急所は、色を表現する値そのものにスカラー積の値を乗じるというところだろう。発想は単純だ。
  * 曲線だろうが曲面だろうが、法線の概念はよく承知しているので軽く読み流す。
  * いったん色を断片シェーダーの uniform として指定する。
  * おなじみの F 型のデモその一。カメラ対モデル＋光源というシーンだ。
  * 法線にも座標変換を施す必要があった。
  * 読者としては `worldInverseTranspose` の理論を明らかにして欲しい。
