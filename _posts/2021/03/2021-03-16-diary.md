---
title: 324 日目（晴れ）髪切った
---

あまりにうれしいのでビデオから撃破の瞬間のスクリーンショットを当日記にアップロードしたくなる。
ネタバレにならぬように敵の画像がぼかされた時点のものにする。
よく考えたらタイトル画面にギャラリーがあるから控えることもないかもしれない。

Windows 付属のツールだと JPEG ファイルの保存で異様に大きいサイズのものができるようだ。
やはり FFmpeg の力を借りることにする。次のようなコマンドになる：

```console
bash$ -ffmpeg -y -ss 0:16.2 -i input.mp4 -vframes 1 output.jpg
```

遅くなったが就寝。今日は満足だ。

7:05 起床。久しぶりに夜中に目が覚めない睡眠になった。朝食をとって出勤。
仕事終わりに床屋に行きたいので PC 持参なし。

8:00 ゴミ出しと清掃をやり始める。可燃ゴミはしばらくぶりの地獄モード。清掃の時間を大幅に削る。
私の他にもゴミ部屋の資源ゴミに手を出して細工をする人間がいるようだ。少し泳がせるか？

10:00 やめる。撤収。いったんイトーヨーカドー曳舟店に寄ってから押上駅方面に移動する。微妙に遠回りだ。
押上駅一丁目バス停から乗る。この時間帯は車内は混雑しているようだ。

錦糸公園前で降りる。公園で上着をリュックに収納しておく。

10:45 ホープ錦糸町店。散髪して 1100 円。店内ラジオが昔よく聴いていた NHK FM の弾き語りフォーユー。小原孝先生。

錦糸公園前バス停に移動。間違えて大塚駅前行きに乗車。これは押上駅方面に行かないのだ。
フリーパスだから気が緩んでいる。やむなく本所一丁目で降りて亀戸駅行きに乗り換える。

11:50 スカイツリー前に到着。セブンイレブンで雑誌棚をチェックしてからスカイツリー内に移動。
トイレを使ってすぐに出る。さっきから上着を脱いだままだが寒くない。もう冬は終わりなのか。

12:25 曳舟の部屋に戻る。PC 前に座っておやつ休憩。麻雀の練習。

14:00 予定通り昼寝。15:30 に目が覚めるが体が動かない。16:10 に起き上がれる。
外出。押上駅のバス停に着いた途端、携帯電話を忘れてきたことに気づく。まあいい。
数分待ってバスに乗る。太平四丁目で降りる。オリナスへ移動。

17:00 タイトー F ステーションオリナス錦糸町店。

MJ プロ卓東風戦。今月も後半戦に入ったが、トータルの凹みがマイナ 600 台でもう返済不能だろう。
今日のゲームはラス回避に集中する。同卓した最強位の人が妙に荒い打ち方をするので、ラス候補にするように打ち回す。
褒められたものではないが案外うまく行って、3 ゲーム目に二盃口で討ち取り成功。

```text
【SCORE】
合計SCORE:-11.2

【最終段位】
四人打ち段位:魔神 幻球:5

【3/16の最新8試合の履歴】
1st|----*--*
2nd|--*---*-
3rd|**-*-*--
4th|--------
old         new

【順位】
1位回数:2(18.18%)
2位回数:3(27.27%)
3位回数:5(45.45%)
4位回数:1(9.09%)
平均順位:2.45

プレイ局数:50局

【打ち筋】
アガリ率:18.00%(9/50)
平均アガリ翻:3.89翻
平均アガリ巡目:11.56巡
振込み率:6.00%(3/50)

【3/16の最高役】
・跳満
・跳満
・跳満
```

19:45 カスミオリナス錦糸町店。550 円。

* 生姜焼き丼
* ブラックチョコ
* ライス
* 野菜ジュース (900)

20:15 なんでこんなに時間が経っているのだ。ビッグエー墨田業平店。358 円。

* 絹豆腐
* スライスチーズ (5)
* カレーパン
* ジャ－ジーミルククリームリング
* ドデカイラーメンチキン

20:30 曳舟の部屋に戻る。散髪もしたし暑かったので先に入浴。

21:00 風呂から出る。豆腐をしゃぶりながら PC に戻る。帳簿をつけたりこれを書いたりしてようやく晩飯になる。
麻雀の練習を 21:35 まで。

22:00 テザリングタイム終わり。学習タイムの始まり。25 分で飽きる。
仕様書を読むのをいったん中断して、書きかけの [MJ.NET][mjnet] スクレイパーの完成度を上げる作業をするタイミングなのかもしれない。
まだリポジトリーに格納していないのも気がかりだ。

[ウルファールのサンプルゲーム with DTC][bshf21b] をやる。はじめからノーセーブで行けるところまで。

* ウディターのサンプルゲームにキャンセルキーが効かなくなる不具合がある。
  ハカセの文字入力でいろいろやってみるとなる。いったんゲームのウィンドウを deactivate すると復活する。
* これもウディターだと思うが、畑の男にどんどん近づくことができる。
* 最初のドラゴン戦で、業火発動まで保つかどうか試したい。
* ミカコ城のザコが実は意外に強い。ホーリィ＋ウルフ＋エディで三階に行ったら、ナイトメアと夜の帝王相手にまさかの全滅。
  DTC 二人とウディター一人のパーティーは序盤不安定。
* あともう一個即全滅パターンがある。なんとか 1 と浄化システム 2 の敵グループ。
  私のツキの細さだと、DTC 二人に作動するから、レベルの低いウディター一人に総攻撃を食らってゲームオーバーになる。

どうしても序盤はパーティーの DTC 二人をロズモンド、ビビアンで固定してしまう。
一戦ごとにウルファールとエディと夕一を入れ替えていく。

だんだん慣れてきたが、外観のドラゴングループが登場する宝箱で全滅して今日は終わり。

## Scrapy Note

### アイテム

ウェブページにあるデータを構造化することがいちおうスクレイピングの目的だ。
[Scrapy][scrapy] はクロール機能だけでなく、そのようなデータを取り扱うための機能も備えている。

* スパイダーは抽出データとして key-value の対を定義する Python オブジェクトを返して構わない。
* [Scrapy][scrapy] はアイテムの種類を複数サポートする。処理コードを書くならどんなタイプのアイテムを使っても構わない。

#### Scrapy がサポートするアイテムの種類

* Python 組み込みの `dict`
* [Scrapy][scrapy] が提供するクラス `Item`
* デコレーター `dataclass` に修飾されるクラス
* デコレーター `attr.s` に修飾されるクラス
  * サードパーティー製ライブラリー

#### アイテムオブジェクトを使う

* クラス `Item` のサブクラスの定義方法を理解する
* クラス `Field` の性質を理解する
* アイテムオブジェクトの生成方法を習得する
  * `namedtuple` に似ている
* アイテムオブジェクトのフィールドを参照する方法を習得する
  * `item.get(field_name)` または `item[field_name]`
  * `in item` と `in item.fields` の違いを理解する
* アイテムオブジェクトのフィールドに値を代入する方法を習得する
  * ここが `dict` との大きな違い
* `Item` のサブクラスをさらに派生させることもできる

アイテムについてはこのへんでいいと思う。

[bshf21b]: https://wodifes.net/game/show/446
[mjnet]: https://www.sega-mj.net/mjac_p/mjlogin/login.jsp
[scrapy]: https://scrapy.org/
