---
title: 204 日目（晴れ）錦糸町から荒川二丁目に一気に行くのは無理がある
---

ファイルバックアップのためテザリング。0:30 就寝。いったん 7:15 に目が覚めるが二度寝する。
するとどうしたことだろう。次に体が動くようになったのは 11:30 過ぎではないか。もうダメだ。

朝飯を食ってフル装備で外出。スカイツリータウン三省堂書店で雑誌チェック。ゴア博士が生きていてよかった。
バスに乗って錦糸町駅前へ移動。

ハローワーク墨田でパートタイム求人検索。毎営業日来ないと検索が面倒になる。
それはそうと先週水曜に連絡したビルメン事業所から連絡が来ない。書類応募すらさせないという新パターンか。

錦糸町駅バスターミナルからバスで浅草駅前に移動。バスを乗り換えて泪橋に移動。
チンチン電車の三ノ輪駅まで徒歩で行ってから荒川二丁目に移動。なんでこんな面倒なことを。

14:40 ゆいの森あらかわ到着。トイレ。閲覧席が満席なので新聞を読んで待つ。
『大奥』第十六巻発見。同時に四階の座席が空く。
よしながふみ先生は下知だの言上だの弑し奉るだの、いつどこでこういう言葉を取得したのだろうか。

* Windows Terminal の WSL2 の起動方法を、Ubuntu のホームディレクトリーから開始するように再修正
* `.bash_profile` の変数処理に恥ずかしいバグがあったのを修正

16:40 朝刊（産経）を読んで退館。バスに乗って東向島広小路に移動。
曳舟の部屋に戻っておやつを食う。再び WSL2 の環境設定。だんだんコツがわかってきた。

* ホームディレクトリーを Cygwin と共通化するのをやめて、WSL2 の既定のものをそのまま用いる。
* ドットファイルを Cygwin で使っているファイルへのシンボリックリンクに順次置き換える。
  Cygwin と違って `ln -s` が活用できる。

ポータブルなコードを書けていなかったことを痛感する。
それにしても WSL2 から Windows の環境変数を参照できないものか？
19:50 外出。

20:05 コモディイイダ東向島店。397 円。

* かつおたたき刺身
* マーボー丼
* おにぎり焼きたらこ

20:10 部屋に戻る。空腹感がないようで妙に小腹が空いている。晩飯。
サクのカツオのたたきが 49 円というのはありがたい。

再び WSL2 でも動くように Bash のドットファイル修正。シンボリックリンクを作りまくって動作するのはいい作り方。
それにしても細かいところが気になる。

* WSL2 の `which` コマンドがコマンドラインオプションをほとんど取らない。何だこれは。
* 関数での `${1:-"*"}` の扱いが Cygwin と異なる（ましな引数を与えれば正常に動くが）。
* Git で必要な `chmod 600 .ssh/config` が不能。シンボリックリンクでごまかしているからか？
  それとも Git for Windows はこういうのを気にしないからか？

WSL2 いじりは今日はこのへんにしておく。泥沼にハマりそうだ。

21:50 入浴。22:30 脱出。テザリングで調べ物を試みるが断念。
C++17 の学習。削除機能と非推奨機能を先に押さえて、消える機能を習得するように時間を浪費するようなことにならぬようにする。

23:55 そろそろ締めようか。

## WSL2 Notes

Ubuntu を起動するときに `HOME` を `/home/username` 以外のパスに指定したければ
ファイル `/etc/passwd` の当該ユーザーの行を編集する。編集方法はテキストを見ればわかるだろう。
その際、エディターを管理者権限で起動しなければならない。例えば：

```shell
bash$ sudo vi /etc/passwd
```

`HOME` を Windows 本来のファイルシステム内のパスにしたいときは `mount` のパスを確認して指定すればいい。

```text
/mnt/c/Users/username
```

みたいなパスになっているはずだ。

WSL2 では `WSL_DISTRO_NAME` という変数がセットされている。VS Code のスクリプトを見るといい。
この変数を `-n` や `-z` でスクリプトでうまくテストする。
