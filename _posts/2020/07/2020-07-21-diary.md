---
title: 86 日目（雨のち曇りのち晴れ）持ち前の間の悪さをまたぞろ発揮
---

長時間戦闘を繰り返した結果、表示の挙動が不安定になってくる。たぶん PC がショボい。
Google 日本語入力が VS Code で重くなってきたのでやめどきだ。

0:30 就寝。モナリザがテレビに映っているのを憶えている。

8:40 起床。スッキリでも観るか。朝飯は納豆とおにぎり。紙の資料を整理。
ついでにきのうの確率論の小ノートをテキストに変換しておく。

作業中に強い便意を催す。ここのトイレを汚したくないので外出。
ついでに特別給付金のことを思い出したので隅田公園経由で区役所へ行く。

10:15 用を足してから空いている住民票窓口に相談してみる。すると特別窓口があるとのことなので、そちらへ行く。
私のところに申請書がない事情を説明すると、なんとこの場で手続をしてもらえることになる。
幸いなことに必要なものはほとんど持ち歩いているので、あとは身分証明書だけ追加すればいい。
これはいつもの福祉事務所に頭を下げれば入手できるものなので、フロアを移動して窓口に行く。

久々の S 氏との面会。書類発行の合間にさらに素晴らしい情報を手に入れる。これはいずれ記すだろう。
話し込んでしまったが、再び特別窓口に移動。すべて終了する。あとは座して待つのみ。

11:15 向島の部屋に戻る。さっきのノートの残りを済ませる。12:00 終了。
髭アーカイブを聴いてから外出したい。

タオルを持って出るのを忘れて引き返すのをサボる。そしたら暑くなる。

どこかのセブンイレブンに寄って麻雀破壊神傀の新刊を発見。後堂がトップバッター。
なんか江崎が刺されているが大丈夫か？

大横川親水公園経由でハローワーク墨田に移動。求人検索。いまいち波が掴めない。

錦糸町の理髪店ホープに移動。クーポン利用で 900 円。錦糸公園で水を汲む。

14:45 カスミオリナス錦糸町店。146 円。

* ポテチ塩
* 二色パン

噴水ベンチでおやつ休憩。

横川コミュニティー会館図書室に移動。新聞と薩摩確率統計を読む。
チェビシェフの不等式を読み直し、多項分布、中心極限定理、正規分布を習う。遅い。

タイトー F ステーションオリナス錦糸町店に移動。また 6 クレいってしまった。

19:10 カスミオリナス錦糸町店。336 円。麻婆茄子丼。

19:30 ビッグエー墨田業平店。232 円。

* ふっくらおむすび各種 (2)
* スライスチーズ (5)

向島の部屋に戻る。郵便受けに特別給付金の申請書が届いている。それはさっきやったやつだ。
明日また区役所に用事がある。ついでに返しに行こう。
部屋のドアの郵便受けには大家サンからの請求書だ。これは想定内なのでもう現金は用意してある。
区役所から戻った後に支払えばいいか。

晩飯。一口目の冷奴がうまい。20:30 までには電話ボックスへ向かおう。この建物の出入口で大家サンとすれ違う。

電話ボックスで作業。今晩はなんか落ち着かないので少なめにする。
とっとと部屋に戻って風呂。21:15 出る。PC を開いてテキスト作業中心。
このページの後半のノートを記す。

22:25 復習終了。地獄の伯爵令嬢のアイテム集め続行。アイテムの個数の上限は 5 のはずだが、ダンシングソードが 6 本ある？
両手にダンシングソードを装備してからバルログを倒すとこうなる？
あと二体くらい落とし物がわからない敵がいる。

23:25 あとはゆっくりする。明日の午前から人に会う用事がある。今聴いている
Ride on the Light が終わったら消灯する。

## Math Notes

薩摩本の復習。基本的な内容なのだが私がほとんどなじみがないので記す。

**多項分布**。確率変数が $m$ 個ある多次元分布。

$$
\begin{aligned}
f(x_1, \dotsc, x_m) = \frac{n!}{x_1! \dotsm x_m!}p_1^{x_1}\dotsm p_m^{x_m},
\quad\sum_{i = 1}^m x_i = n,
\quad\sum_{i = 1}^m p_i = 1.
\end{aligned}
$$

真ん中の条件があるので各確率変数 $X_i$ は独立ではない。
二項分布と同様に期待値と分散は：

$$
\begin{aligned}
\mu_i = np_i,\quad \sigma_i^2 = np_i(1 - p_i).
\end{aligned}
$$

----

**超幾何分布**。例：ネジ 10 本のうち 4 本が不良品である。非復元抽出で 3 個取り出す。
このうち 2 個が不良品である確率を考える。

まず分母は $\displaystyle \binom{10}{3} = 120$ である。

次に不良品 4 本から 2 本、残りから 1 本を取り出す場合の数は
$\displaystyle \binom{4}{2}\binom{6}{1} = 36$ である。

したがって求める確率は $\dfrac{36}{120} = 0.3$

これを一般化する。$N$ 個の集団には二種類の性質がある。そのうちの一方の性質のものが
$M$ 個あるとする。非復元抽出で $n$ 個を取る。この一方の性質の個数を確率変数 $X$ とする。

$$
\begin{aligned}
P(X=x) = \frac{\displaystyle \binom{M}{x}\binom{N - M}{n - x}}{\displaystyle \binom{N}{n}}.
\end{aligned}
$$

抽出の一個目は確率 $p = M/N$ で引く。仮に $n\ll M \land n \ll N$ ならば
$p$ は二個目以降ほとんど変わらない。二項分布で近似できる。

----

二項分布の極限。$p$ が小さくないときの $n \to \infty$ における分布を考える。

確率変数 $Z = \dfrac{X - \mu}{\sigma}$ を新たにおくと
$Z$ は

$$
\begin{aligned}
\frac{1}{\sqrt{2\pi}}\mathrm{e}^{-z^2/2}
\end{aligned}
$$

の分布に従う。

----

**正規分布**。次の $y$ についての関数を正規分布という：

$$
\begin{aligned}
N(\mu, \sigma^2) \coloneqq \frac{1}{\sqrt{2\pi}\sigma}\exp\!\left(-\frac{(y - \mu)^2}{2\sigma^2}\right)
\end{aligned}
$$

----

**中心極限定理**。二項分布 $Bin(n, p)$ に対して $Z \coloneqq (X - \mu)/\sigma$ とする。
$n \to \infty$ のとき $Z$ の分布は $N(0, 1)$ に近づく。

----

互いに独立な $n$ 個の確率変数 $X_1, \dotsc, X_n$ が期待値と分散が $\mu, \sigma^2$ である同一の確率分布に従っているとする。
このとき

$$
\begin{aligned}
\bar X \coloneqq \sum_{i = 1}^n\frac{X_i}{n},\quad
Z_n \coloneqq \frac{\sqrt{n}}{\sigma}(\bar X - \mu)
\end{aligned}
$$

とおく。$Z_n$ の分布が $n \to \infty$ のときに正規分布 $N(0, 1)$ に近づくという主張が中心極限定理である。

----

* 正規分布の計算はプログラムを書くなり、正規分布表を参照するなりして行う。
* $N(\mu, \sigma^2)$ に従う確率変数 $X$ に対して確率変数 $(X - \mu)/\sigma$ は
  $N(0, 1)$ に従う。これを標準化変換という。
* 68-95-99 ルール。

----

例題：$1000$ 点満点の試験がある。受験者全体の得点の平均点が $600$ 点、標準偏差が $100$ である。
この得点分布が正規分布に従うと仮定して、次の得点の人数を見積もれ：

1. $800$ 点以上
2. $580$ 点以下
3. $600$ 点から $700$ 点

解：確率変数 $X$ が $N(600, 100)$ に従う。$Z \coloneqq (X - 600)/100$ は $N(0, 1)$ に従う。

$X = 800$ ならば $Z = 2.$ 上記ルールにより $100 - (50 + 95/2) = 2.5$ パーセント程度。

$X = 580$ のとき $Z = -0.2.$ これは標準正規分布表を見て値を求める。

$X = 600, 700$ のとき $Z = 0, 1.$ 上記ルールを適用すると $34\%$ ということになる。

Python で確認する：

```python
>>> from statistics import NormalDist
>>> N = NormalDist()
>>> 1 - N.cdf((800 - 600) / 100)
0.022750131948179098
>>> N.cdf((580 - 600) / 100)
0.42074029056089696
>>> N.cdf((700 - 600) / 100) - N.cdf((600 - 600) / 100)
0.3413447460685428
```

標準正規分布を使わなくても期待値と標準偏差（ここ注意）を指定して正規分布を使える：

```python
>>> N = NormalDist(600, 100)
>>> 1 - N.cdf(800)
0.022750131948179098
>>> N.cdf(580)
0.42074029056089696
>>> N.cdf(700) - N.cdf(600)
0.3413447460685428
```

----

以上
