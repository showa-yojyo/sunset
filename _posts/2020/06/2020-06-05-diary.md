---
title: 40 日目（晴れ）ハローワークの端末でインターネットに接続できる
---

7:00 起床。近所から人の声が聞こえ始めたら起きるのがいいようだ。
洗濯を始めつつ隅田公園に行って戻る。燃えるゴミの日なのでボロズボンを処分する。

部屋にいるときは常時テレビが点いている。これは昭和の人の生活習慣だ。良くない。
きのうのうどんを食う。天かすの脂がつゆ入れに付着してなかなか切れない。
はさみも要るのだが、買い物が億劫で（品目数が多い）まだ持っていない。

8:00 PC を少しいじる。昔作成した MS Word の職務経歴書を [LibreOffice] で更新す
る。書式の設定方法とか全部忘れている。リストのインデント調整はどこに保存されるの
だ？

9:05 飽きてやめる。こんなスカスカな履歴ではダメだ。
Bash をやる。日付の計算のために Python の短いコードを使いたいので here-document を利用する。
`date` では任意の日付の delta が求められないのか。

暑くならぬうちに外出するつもりがデバッグで 10:40 になる。

スカイツリーの二階部分に初潜入。三省堂書店があることを知っていればもっと早く訪問していた。
夏場はこの通路を使って四ツ目通りに行けばよさそうだ。

12:00 ビッグエー墨田業平店でおやつを調達。219 円。

* レーズンロール (4)
* ふっくらおむすび辛子明太子
* すっぱムーチョさっぱり梅

ハローワーク墨田に移動。二階で休んでから端末をいじらせてもらう。
ブラウザーは Firefox であることが判明。ブロックされていなければアドレス欄を編集して任意の URL にアクセスできる。
ということは、ここでフリーメールが使えれば私のようなみじめな求職者は助かる。

アルカキット錦糸町の書店を巡ってからオリナス錦糸町のベンチでおやつ休憩。
居眠りを始めたら思いのほか疲れていたらしく、時計を見に行ったら 16:30 を過ぎていて驚く。

16:50 カスミオリナス錦糸町店で晩飯を調達。410 円。

* 八宝菜丼
* ジャンボどら焼き

もう一度ビッグエーに寄って商品の値段を調べる。この時間帯は狙い目のようだ。

17:30 向島の部屋に帰還する。ルパン三世の再放送を観る。さらば愛しきルパンよ。
ちょっと妙なシナリオだ。晩飯まで PC を開いて Cygwin で `info coreutils` を読んで時間つぶし。

19:00 晩飯。それが終われば公園か電話ボックスでインターネット。

19:45 電話ボックスへ移動してインターネット。今晩は接続状況がとくにひどい。
20 分かかって Sleipnir がダウンしたので OS を再起動。電話ボックスで何をやっているのだ。
そして再起動して不調の理由が判明。Windows Update のダウンロードが背後で走っていたようだ。
電源なし起動で Wi-Fi でファイルをダウンロードしまくっていたのか。頭が痛い。

21:10 隅田公園のトイレ経由で部屋に戻る。PC の再起動を施して入浴。
25 分程度で風呂から上がる。ニュースを観ながら PC をチェック。

当エントリー末尾のノートを書く。`FUNCNAME` を思い出したので適用する。
今 `info bash FUNCNAME` で確認したら、この変数は実は配列だ。

23:45 消灯準備。

## Programming Notes

Bash の here-document を使って Python のコードをシェルスクリプトに埋める。
コメントを忘れたので説明すれば、この関数はある日付から今日が何日目なのかを出力する。

```shell
function _anniversary_helper
{
    if [[ -z $1 ]] ; then
        echo Usage: $FUNCNAME \"date\(YYYY, mm, dd\)\" >&2
        return 1
    fi

    python << EOL -
from datetime import date

print((date.today() - $1).days + 1)
EOL
}
```

* 終了マーカーは開始マーカーと同じ文字列だけを含む行でなければ認識されない。行頭に空白があってはダメ。
* 上記の `python` の呼び出しは `python script.py` の変形だ。
  ファイルの代わりに標準入力からコードを読み込む。
  シングルハイフン `-` は UNIX コマンドラインツールでは標準入力を意味する標準的な引数だ。
* `$1` は `python` 呼び出し前にこのシェル関数 `_anniversary_helper` の対応する実引数に置き換わる。
  上記のやり方以外にも `python` のコマンド行の引数として引き渡して `sys.argv[1]` を参照する方法が考えられる。

----

ひじょうに基本的な programming notes が続くが、インターネットが手許にないとこんなものだ。

[LibreOffice]: https://www.libreoffice.org/
