---
title: 154 日目（曇り一時晴れ一時雨）妙にたっぷりある時間
---

0:20 就寝。床寝り。にもかかわらずぐっすり眠れて 9:10 起床。

朝飯を食ってとっとと外出する。9:55 ひきふね図書館。朝刊と正規表現リファレンスブック第一章を読む。
正規表現は本質的には有限オートマトンであること、DFA と NFA の違い、バックトラック、等々の説明が簡素でよい。

10:55 退館。徒歩でオリンピックに移動。基本的に道なりに歩くだけで良い？

11:50 オリンピック墨田文花店で家具類を購入。テーブルっぽいものは保留。
領収書に名前を書いてもらうのに失敗。

* ミニポール
* 防炎バスカーテン

ついでにダンボールも一つ失敬して曳舟に戻る。今日は寒くはないようなので次はフリースを脱ごう。

12:30 部屋に戻る。浴室にカーテンを設置。これをやらないとユニットバスの床掃除が面倒になる。
ミニポールを窓の物干し用フックに引っ掛ける。まだ乾いていない洗濯物を棒に移して部屋が若干明るくなる。

PC を開いて記録作業。できれば八広図書館に行ってインターネットに接続したい。作業が溜まっている。

13:25 テザリング終了。数分悩んでやはり PC を持って外出。

13:50 オーケー曳舟店。159 円。

* すっぱムーチョ梅
* コッペパンジャムマーガリン

長浦いきいき公園で食う。その後八広図書館へ移動。

14:25 着席。最初の 20 分近くをビデオ編集に費やす。

* [How can I reduce a video's size with ffmpeg? - Unix & Linux Stack Exchange](https://unix.stackexchange.com/questions/28803/how-can-i-reduce-a-videos-size-with-ffmpeg)
* [linux - Cutting the videos based on start and end time using ffmpeg - Stack Overflow](https://stackoverflow.com/questions/18444194/cutting-the-videos-based-on-start-and-end-time-using-ffmpeg)
* 髭アーカイブダウンロード (https://www.youtube.com/watch?v=Folf01iijb8)
* マッシュ バルガス
* ウディタ 乱数

一時間で席を引き払う。MASTER キートンを一話だけ読んで退館。徒歩で曳舟に戻る。
どうせ錦糸町に行くのだからビッグエー墨田八広店前のバス通り（錦 37 という）に行けばいいのに。
すっかり晴れてきた。明治通りのバスが謎。後で調べよう。

16:10 部屋に着く。PC を置いて少し作業。
明治通りの謎の都バス、錦 40 という路線だった。駅前を通っているアレと同じか。本数が少なすぎて頼りにならない。

16:40 外出。徒歩でオリナス錦糸町へ向かう。近道らしい近道はたぶんない。

タイトー F ステーションオリナス錦糸町店。まず晩飯前に MJ を 3 クレ遊ぶ。
第 10 回幻球乱舞東風。私にしては珍しく浮きで終了。プラス 6 個。
某最強位はマイナ 30 個とか悲惨なことになっていて、帰るに帰れないのだろう。

19:00 カスミオリナス錦糸町店。416 円。フードコートで食す。

* 菜の花と酢豚丼
* ジャンボどら焼き

再びゲーセンへ。今度はビートマニアを 3 クレ遊ぶ。レベル 11 の mosaic がゲージ 78% でクリア寸前。
この曲は死ぬまでクリアできないと思っていた。これはなんとかなる。

20:25 ビッグエー墨田業平店。59 円。レーズンロール (4) のみ。すまん。

とぼとぼ歩いて曳舟の部屋に戻る。雨も降ってくる。小雨のうちにたどりつく。
入浴して出る。21:00 PC に戻る。当エントリーを更新する。テザリングで情報収集。
Twitter はみんなドラマを視聴していてタイムラインがその感想かガランとしているかのどちらか。

22:00 テザリングをやめて仕様書読み。CSS Selectors のレベル 4 をいちおう見ておく。
愛用のブラウザーおよび VS Code の HTML モードではこれを仕様どおりに処理・認識しない。

22:55 まだ就寝時刻まで間がある。[地獄の伯爵令嬢の逆襲][bshf20]のデータを閲覧する。
敵キャラの AI を色々チェック。ウディタの UI がすごいことになっているが。
そういえばドラクエはこの辺が異様に凝っていたことを思い出す。

ランちゃん戦をもう少し詰める。Twitter に投稿した動画をベースに改良できるか？

* やはり初ターンでクロエが生き残って欲しい。この後ガード技が要る。
* ブルーもしくはブルーをヘイストに置き換えられない。火力不足。
* 3 ターン目でムーブユアフィートと射撃を組み合わせる。もちろんクリティカルが望ましい。

基本方針はこれでいいだろう。あとはパーティーレベルの下限を見極めたい。

## Notes on CSS Selectors

レベル 4 で頭の片隅にあるといつか使うかもしれないものを。
ただし、これを実装している処理系は現在私の手許にないかもしれない。
少なくとも Chrome ベースの某ブラウザーではダメ。

* `E:not()` の複数引数版。
* `E:is(s1, s2, ..., sn)`: 要素 `E` であって、セレクター `s1`, `s2`, ..., `sn` に and/or でマッチする。
  * E.g. `*|*:is(:hover, :focus)`: マウスが乗っているか、フォーカスが合っているような要素ならなんでもマッチ。
  * E.g. `*|*:is(*:hover, *:focus)`: デフォルトの名前空間限定で、マウスが乗っているか、フォーカスが合っているような要素ならなんでもマッチ。
* `E:where(s1, s2, ..., sn)`: `E:is()` の「指定度」無視版。

  * 次のコード片は期待通り働かない：

    ```css
    a:not(:hover) {
      text-decoration: none;
    }

    nav a {
      text-decoration: underline;
    }
    ```

    こういうときに `:where()` を用いる。次なら期待通り働く。

    ```css
    a:where(:not(:hover)) {
      text-decoration: none;
    }

    nav a {
      /* Works now! */
      text-decoration: underline;
    }
    ```

TODO: 指定度の理解をする必要がある。

* `E:has(rs1, rs2, ..., rsn)`: 要素 `E` であって、相対セレクター `rs1`, `rs2`, ..., `rsn`
  のうちいずれかがスコープ要素として存在するならば、それにマッチする。

  例を見たほうがわかりやすい。

  * E.g. `a:has(> img)`: 要素 `<a>` であって、子に要素 `<img>` を含むようなものにマッチ。
  * E.g. `dt:has(+ dt)`: 要素 `<dt>` であって、直後に別の `<dt>` が続くようなものにマッチ。
  * E.g. `section:not(:has(h1, h2, h3, h4, h5, h6))`: 要素 `<section>` であって、いかなる
    `<h[1-6]>` を含まないようなものにマッチ。
  * E.g. `section:has(:not(h1, h2, h3, h4, h5, h6))`: 要素 `<section>` であって、
    `<h[1-6]>` のどれでもない要素を含むようなものにマッチ。

次のセレクターは、URL を抽出するスクレイピングで使えるかもしれない。

* `:any-link`: 要素であって、ハイパーリンクを表すようなものにマッチ。
  * 平たく言えば属性 `href` のある要素にマッチする。
  * さらに論理的には `:is(:link, :visited)` と同値。

レベル 4 にしてやっと表関連専門のセレクターが仕様に含まれる。

* `F || E`:
  要素 `E` であって、要素 `F` が表す列に属する表にあるセルを表すようなもの。

  * 次の例は C, E, G を灰色にする。HTML では C, E は 3 列目にあり、G は 2 列目と 3 列目にまたがっている。
    G の文字は何も指定がなければ 2 列目に描画されると思う。

    ```css
    col.selected || td {
      background: gray;
      color: white;
      font-weight: bold;
    }
    ```

    ```html
    <table>
      <col span="2">
      <col class="selected">
      <tr><td>A <td>B <td>C
      <tr><td colspan="2">D <td>E
      <tr><td>F <td colspan="2">G
    </table>
    ```

* `E:nth-col(n)`: 要素 `E` であって、表における `n` 番目の列に属するセルを表すもの。
* `E:nth-last-col(n)`: 要素 `E` であって、表における末尾から逆方向に数えて `n` 番目の列に属するセルを表すもの。

どちらも `An+B` 記法における位置の決定方法に注意。

----

以上

[bshf20]: https://wodifes.net/game/show/412
