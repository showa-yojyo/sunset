---
title: 185 日目（曇り）不採用連発
---

C++11 のラムダ式の学習をしたあと、食ったものを消化し切ってから横になる。
そして寝付きが悪い。朝方どうしても二度寝になる。

9:45 起床。朝食。メールチェックは特に返信なし。
気分がすぐれないので、ひきふね図書館に行って朝刊（朝日）を読む。
すぎやまこういち先文化功労者おめでとうございます。

それからやはり気が変わって PC を持って荒川区へ移動する。

11:45 ゆいの森あらかわ入館。おもに pytube のテスト。YouTube 側の変更が多くてよく動作不良を引き起こすパッケージだが、
元のコードが決め打ちし過ぎるからかもしれない。putube4 に差し替え、さらに extract.py 内のメソッド関数 `js_url` を書き換える。

* [KeyError: 'assets' · Issue #763 · nficano/pytube](https://github.com/nficano/pytube/issues/763)
* [Shimoine's Castlevania VRC6 Collection - YouTube](https://www.youtube.com/playlist?list=PL3_-twTUHjdPIDeQb6DwivQPNqt-_V2u3):
  Aquarius がタイトルかぶりしている（内容は別アレンジ）。

全 77 曲回収成功。pytube はオリジナルのほうもメンテナンスされているようだから、もう一度試したいところだ。
さっきの修正はそのうちこちらに入るだろう。pytube3 だの pytubeX だの疲れた。

13:45 新聞（産経）を読んで退館。

14:00 荒川区役所の食堂で昼飯が食えるかと思って入ってみる。
カレーライスが 330 円と予算オーバーなので断念して荒川三丁目に移動。

14:20 ビッグエー荒川三丁目店。216 円。

* ふっくらおむすび明太マヨ
* ピザパン
* バナナ (3)

荒川公園でおやつ休憩。バス停に移動した途端亀戸駅行きが発車していた。気分転換にバス通りを歩くことにする。
三ノ輪の先まで歩いたところで私としたことが道を間違えて日本堤のほうに迷い込んでしまう。確かにこの風景は孤独のグルメ第一話感がある。

清川二丁目で明治通りに復帰。徒歩のまま白鬚橋を渡って向島百花園まで戻っていつものルートで曳舟の部屋に戻る。

16:05 PC を開いてダウンロードした MP3 ファイルの整理。16:30 アルバム完成。

17:00 YouTube ダウンロードスクリプトのプレイリスト版を道具箱に追加。
今のところダウンロード直後に別ツールで MP3 に変換（というか抽出）する運用しかしないので音声データしか保存していない。
晩飯を食うときとかにやっぱりビデオが欲しいときが正直ある。インターネット回線をこの部屋に早く引け。

17:10 外出。押上方面へ。スカイツリータウンで時間を潰す。
近所の電話ボックスで携帯電話からインターネットに接続して情報集め。

18:50 ビッグエー墨田業平店。717 円。

* ミックス弁当
* シュークリーム
* 大きなおむすびおかか
* ふっくらおむすび梅
* ポテチ塩
* コッペパンブルーベリー

19:00 曳舟の部屋に戻る。PC と晩飯。ミックス弁当の構成は磯辺揚げ、メンチカツ、焼きそば、コロッケ、ハンバーガー、白飯。
少し麻雀の練習をしてから C++11 をやるか。

21:00 携帯電話でメールをチェックしたら 5 時間前に着信していた。さっきの電話ボックスで気づいていても良さそうだった。
Hotmail のクセだろうか通信速度が引き起こした現象だろうか。
メールの内容は、先週面接した会社の営業サンから。私の仕事を探してくれるということで、おととい二社にエントリーしていた。
それが両方とも不採用になったという連絡だ。両案件とも要求が高水準だったから、私の挑戦は無謀だったのだ。
不採用の理由をまとめるとこういうことだ：

* 無職期間が長くて同僚と話が合いそうにないから
* 要請される専門性がないから
* そもそも求める職種が異なるから

下 2 項目は営業が頑張ればクリアできるかもしれないが、最初の項目は物理的に改善不能。
面倒見の良い営業サンは次の案件も見つけるということなので連絡待ちに戻る。

それにしても来週の就労相談までには就労の目処が立たないことがほぼ確定だから、何と報告しよう。

さっきからずっと聴いている Shimoine's Castlevania VRC6 Collection はリミックス者の曲リストの精選の度合いがすごい。

22:00 入浴。22:40 風呂から上がる。毎日不思議なのだがなぜこんなに長風呂なんだ？

地獄の伯爵令嬢の逆襲で、何日か前に書いたレイコ戦で怨呪絶凍葬イベント発動の前に倒せそうだと書いた件が解決。
ふつうに倒せる。レベルは 45 で試験。もう少し低くてもいいだろう。
マシンガンヘッドバット＋燃心の呼吸＋ブルーもしくはブルー＋ブライト・ナックルで 13000 以上のダメージが入る。
これでレイコ戦は気が済んだ。いや長かった。

* レイコと一騎打ちサブルーチンを切り出す。しかもコモンイベントのスロットがお誂え向きの場所で空いている。
* 敵キャラ単体描画というサブルーチンが何かありそう。とりあえずフラグリセットを撃破ルーチンに移動。

おしまいにラスボス戦をやって締める。装備を間違えてボコボコにやられる。

## Programming Notes

C++11 の学習を進める。

* `noexcept` は C++ という言語の基本にある例外送出に関係する重要な概念なので優先度は高い。
* `constexpr` は誤解なきよう習得すること。それと `std::numeric_limits` の従来の実装に関する
  〈抽象化された機能を使うより、抽象化されていない機能の方がよい、というのは、改善すべき事態だった〉
  という [cpprefjp] の一文が印象的だ。
* `nullptr` の特性はまともな C++03 プログラマーの直観と合致する。
* `inline namespace` はどういう立場になったときに使うのか。
* ユーザー定義リテラルはシグニチャーが風変わりであることだけを頭に入れて後回し。

クラス関係の機能を見ていく。

* キーワード `default`, `delete` を関数宣言に付与する使い方。[cpprefjp] の当該記事の要約は理想的。
  そしてこれらの用法は要習得。便利なので。
* Delegating constructors も要習得。コンストラクターが複数あるクラスを書いたことがある人間ならばこの新機能の意義は肌感覚で理解できる。
* 非静的メンバ変数の初期化。コンストラクターの定義によってはこの代入が実際に行われないことがあることに注意。
* 継承コンストラクター。派生クラスのコンストラクターの引数リストは基底クラスのそれと同じになりがちだということで生まれた新機能。
  `using BaseClassName::BaseClassName;` を派生クラスに一筆加える。オプショナルに、その上派生クラス独自の定義をしてもよい。

### `noexcept` Notes

* 新キーワード `noexcept` は、関数宣言において、例外を送出するか否かを明示するキーワードだ。書かなくともよい。

  ```cpp
  void f() noexcept;
  void g() noexcept(true);
  void h() noexcept(false);
  ```

* 関数が例外を送出するか否かをコンパイル時に判定する演算子
  * 関数呼び出しを `noexcept()` で括る。すると例外を送出する可能性のあるものは `false` に展開される。
  * その呼び出し自体は実行時に実行されない。

* 指定が書いてなければ関数のほとんどは `noexcept(false)` としてコンパイラーが関数を扱う。
  その例外がデストラクターと `operator delete` であり、コンパイラーは `noexcept(true)` とみなす。
  このへんの理由は C++03 時代の書籍で理解できるだろう。

* `noexcept` の利点の一つにパフォーマンス向上があることに注意。
  その理由は例外送出時のスタック巻き戻しに必要なメモリ領域を確保するのを省くようになるからだと。
  もう一つの理由はもちろん no-throw 保証。

* 関数宣言のときに用いる `throw` による例外指定は C++11 から非推奨。注意。
  * どんな例外を送出するのかということより、例外送出の有無が本質的だったようだ。

### Inline Namespaces Notes

* C++11 で `inline namespace` という構文が追加された。
* この機能の急所は `using namespace` 文で何がスコープに持ち込まれるのかを見分けることと、引数依存の名前探索ルールを理解することだろう。
  例えば [cpprefjp] の例だが：

  ```cpp
  namespace my_namespace
  {
      inline namespace features
      {
          void f(){ ... }
      }
      void g(){ ... }
  }
  ```

  `using namespace my_namespace::features` の一文だけで `f` と `g` の両方を宣言するスコープに持ち込める。

* このリファレンスの記事だけでは名前なし `inline namespace` の概要がわからない？

### `default`/`delete` Notes

クラスを定義するときには、ユーザーがそれを定義しなければ一定の特別なメンバー関数をコンパイラーが自動生成する。
C++11 では、その「暗黙の定義を使う」という宣言を明示的にコードに表すことができるようになった。
それが `= default` 記法だ。

反対に、コンパイラーに自動生成を禁止するように支持するのが `= delete` 記法だ。
例えば Singleton なクラスを定義するときにこれが有用であることは想像できる。
C++03 では `private` メンバーとして宣言だけしておくという技法を用いていた。

`= delete` はフリー関数にも適用可能。これは特定のオーバーロードを禁じるという用法になる。

`= default` は関数定義にも書かれる。他方 `= delete` は宣言時に限定される。

[cpprefjp]: https://cpprefjp.github.io/
