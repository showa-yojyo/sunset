---
title: 164 日目（晴れのち曇りのち雨）想定外の出費
---

0:20 消灯。床で寝る。まだ布団の追加は必要なさそうだ。

7:00 目が覚める。体力温存のため二度寝する。

9:15 外出。水戸街道を途中まで歩いてバスに乗り区役所へ移動。
約束の時間までけっこうあるので、国勢調査の件を問い合わせたい……が、ダメ。窓口が存在しない。
あきらめて待つ。

10:30 就労担当者に取り次いでもらう。毎度ご迷惑をおかけしている N 氏の案内で一階奥へ。
先月までやっていた就労報告の習慣を取り戻す。面談が終わってから福祉事務所に行き（戻り）、きのう着信した支払いの件などを済ませる。
今日も担当 S 氏不在か。どれくらい多忙なのか想像もつかない。申し訳ない。

水戸街道を途中でショートカットして曳舟の部屋に戻る。やっと道を覚えたか。
少し洗濯物があるので洗濯をする。国勢調査のチラシを再度確認。調査票とやらが本来手許にあるはずらしいのだが、私にはない。
変なタイミングで引っ越しをしたからだろう。締切が今日なのに困ったものだ。

12:40 八広図書館に移動。朝刊を読む。13:00 キャレルに着席。今日の作業を忘れるな。

* WOLF エディタープレーン版入手 OK
* スクレイピングの元 HTML ファイルダウンロード OK
* WHATWG HTML 5 について調べる。もうドキュメントをダウンロード済みだった。
  * 代えて Dive Into HTML 5 をダウンロード。
* バックアップ各種（テザリングでは憚られる）

14:00 退館。

14:25 オーケー曳舟店。210 円。ついでにダンボールもいただく。

* おにぎりねぎ味噌
* 柿ピー (86)
* コッペパンジャムマーガリン

曳舟の部屋に戻ってファイルを確認したりおやつを食ったりする。

Dive Into HTML 5 を読んでみると、昨日読んだ本の元ネタであることが判明。原文で読める。
とりあえず `<canvas>` の概要は理解した。JavaScript で何かを描くことができる。CSS でも何かできるカード

16:15 郵便二通着信。来月分の家賃振込用紙と火災保険の何か。来月分の家賃は今月中に支払うのか。そんな金あるか？

17:20 配布版の WOLF エディターの解凍、デモゲームのプレイ、それからデータベースとコモンイベントの閲覧をする。
これで地獄の伯爵令嬢の逆襲固有の作成部がどこなのかわかる。

雨がまともに降っているので今日の外出はもうないか。

19:00 Dive Into HTML 5 のビデオの章を読んだ。`<video>` は素人が使いこなせるタグではないことはわかった。

雨が一瞬やんでいるように見えるので外出。ひきふね図書館で道草。出たらまた降ってくる。

20:10 コモディイイダ東向島店。386 円。寿司や海鮮丼が安くてこちらにするか悩む。しかし醤油がないので選択肢から外す。

* くるみゴールド
* 焼肉のっけ盛り弁当

部屋に戻って入浴。すぐに出て晩飯の用意と PC の開き。
弁当の内容は海苔弁ベースで玉子焼き、たくあん、椎茸と菜っ葉の煮物、ナポリタン、焼売、ちくわ天、焼肉、白身のフライ。

21:30 地獄の伯爵令嬢の逆襲のコモンイベントを調査。ラスボス戦のザコ追加が好きなのでどうなっているか調べる。
ドラクエスタイルなら戦闘コマンドとして実装しているだろうが、こちらでは戦闘フレームワークに組み込まれている。
特別な戦闘のときに限って、特別のターンでザコを追加する。ターン数だったのか。
少し前はモタモタしていたらさらなるザコが出るのかとワクワクしていたが、そうではないことが明らかになった。

気になることがあるので、ウディタのデバッグ実行機能で、ラスボス連戦を少し確かめる。

<!--
おとといボツにしたこの記述・画像だが、

![移動モードには復帰しているのか？]({{ "/assets/images/20201005-bug.png" | relative_url }})

ウディタで実装を調査の上、再現可能であることを確かめた。7 ターン目にフリーリを倒すのが発生条件。
フリーリ撃破イベント、ビビアンオーライベントの順で起こり、ザコキャラの経験値が表示されて戦闘が終了する。
黒い画面が出るがメニューを出すことができる。

もしここでストームブリンガールを持っていれば使うことができて、ランちゃんと戦える。
ここで全滅するとスタッフロールに移行する。
 -->

22:20 フリーリ戦の疑問点がクリアになったところで Dive Into HTML 5 の永続的ストレージの章を読む。40 分。

残り時間でゲーム前半の攻略ノートを取る。レベルで言うと 30 未満の辺りの立ち回り。

## HTML 5 Notes

ビデオの形式は複数存在する。そしてどのブラウザーもそのような形式をすべてサポートしているというわけではない。
したがって、HTML を提供する側がビデオファイルをなるべく多く用意する。

本書で用いられたコードを一部転載する：

```html
<video width="320" height="240" preload controls>
  <source src="pr6.webm" type='video/webm; codecs="vp8, vorbis"' />
  <source src="pr6.ogv" type='video/ogg; codecs="theora, vorbis"' />
  <source src="pr6.mp4" />
</video>
```

ここで `wget` でダウンロードしてあるこれらビデオファイルの `file` による鑑定を見ると：

* `pr6.mp4`: ISO Media, MP4 v2 [ISO 14496-14]
* `pr6.ogv`: Ogg data, Skeleton v3.0
* `pr6.webm`: WebM

本書の解説に沿っている。YouTube などのビデオ配信サービスはこういう複数種類対応を裏方でやっているのだろう。
