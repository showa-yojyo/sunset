---
title: 183 日目（晴れ）さらなる面接に進めるのか
--- 

ウディターをやめて寝る前に少し麻雀の練習。0:25 就寝。
朝方、どこからともなく低音三角波が発生して気になって寝付けなくなる。

結局 9:55 起床。首が痛い。朝飯を食って外出。先に錦糸町方面の用事を済ませる。

スカイツリータウン三省堂書店で雑誌チェック。異状なし。
そのまま徒歩でハローワークへ向かう。

11:05 ローソンストア 100 墨田太平店。330 円。

* 高反発インソール (2)
* 靴下

ハローワーク墨田に移動。求人検索を位置時間近く行う。パートタイムのほうが探しにくい。
移動中に携帯電話でメールをチェック。先週の採用担当者から経歴書の合格がやっと出る。
先方で個人情報の秘匿処理をしたということなのでファイルが添付されているが、ここでは確認できないのでいったん曳舟の部屋に戻ることにする。

12:20 西友錦糸町店。235 円。

* 洗剤
* ボデーソープ

西友まで来ると歩いたほうが早い気がするので、徒歩で曳舟まで移動。13:00 部屋に入る。PC で作業。

13:30 書類の確認と返信を済ませる。おやつ休憩にしたい。
Windows Update が通知されたので（テザリングのときにファイルをダウンロードされていた？ 困る）再起動。

14:30 外出。バスの乗って荒川区へ移動。

15:30 ゆいの森あらかわキャレル。なぜ一時間もかかる？

[C++11 - cpprefjp C++日本語リファレンス](https://cpprefjp.github.io/lang/cpp11.html)が良さそうだ。
レポジトリーごといただけばオフラインでも学習を進められるだろう。

17:30 朝刊（朝日、産経、東京）を読んで退館。懐かしのモコモコ荒川二丁目店前と荒川区役所食堂ににわざわざ寄り道してからバス停へ。
百花園で降りてイイダに行くが、惣菜の値段がまだ値下がりしていない。いったん曳舟の部屋に戻って PC カバンを置く。

19:25 ビッグエー墨田業平店。282 円。

* 小粒納豆 (4)
* 大きなおむすび鮭
* クリームパン
* 大きなコロッケバーガー

19:40 コモディイイダ東向島店。やっぱり値下げがないので諦める。613 円。

* 野菜ジュース (900)
* 中華丼
* もっちりちぎりパン～りんごカスター～

もう一度部屋に戻る。日記と帳簿を更新してからメシにする。

いちおう手持ちのファイルで C++11 の学習を進める。

21:20 携帯電話のメールを確認したら、私の好きそうな案件が見つかったと着信あり。しかも複数。腕がいい。
ただ応募要件が厳しくて私の能力では採用されなそうだ。

テザリングのついでに Twitter を見たら画像がまだ表示されない。由々しき事態。通信速度制限はあと何日で解除されるのだ？

22:00 風呂。22:45 出る。掃除の時間を考えても入浴時間が長すぎる。おかしい。なぜだ。

残り時間は全部麻雀の練習。

## C++11 Notes

C++11 の右辺値参照周りを学習する。一読してよくわからない。以下、引用部分はすべて「C++ 日本語リファレンス」から。

* 右辺値・左辺値の定義は問題ない。C++03 以前のものが通じる。
* 〈**右辺値参照**は、右辺値を束縛する参照である〉
  * C++03 以前までの参照を左辺値参照と呼ぶようになったらしい。
  * そして C++11 で追加になった `&&` で宣言される参照型を右辺値参照と呼ぶ。
* 〈C++11 以降では、代入式2の右辺の型は右辺値参照 `vector<int>&&` になり、左辺値参照とは区別して処理される。
  また、こうした処理のことを「ムーブ」と呼ぶ〉

  ```c++
  std::vector<int> v, vv;
  v = vv; // 代入式1
  v = std::vector<int>(100, 0); // 代入式2
  ```

  この式自体は `std::vector<...>::operator=(...)` の呼び出しとコンストラクターが組み合わさったものだ。
  本文は丸括弧内の `...` が C++11 では右辺値参照 `&&` であると主張している？

* <右辺値参照で宣言された変数は右辺値ではなく、左辺値である〉

  `int&& x = 0;` に対して `x` は左辺値であるということを言っている。
  したがって例えばこの後で `int&& y = x;` などとはできない。

次に `std::move()` について学習する。この関数の挙動を説明するのに右辺値参照の概念が要るのだ。

* 〈ムーブされた変数は右辺値となり、それ以降使える保証はなくなる〉。
  この Hello world は実際にコードをコンパイルして実行するといい。コメント通りの挙動を確認できる。
* 所有権の移動の実例は自然でわかりやすい。
* C++11 から、コンストラクターおよび代入演算子に（従来型のコピーとは別の）ムーブ版が考えられるようになった。
  * ムーブコンストラクターとムーブ代入演算子のシグニチャーに注目。`const` なし `&&` 付き。
    実装例は想像しているとおり。
* 〈標準ライブラリで提供されるクラスのほとんどは、このようなムーブコンストラクタを用意している〉
  代入演算子も同様。とにかく `std::move()` を介せばいい。
* ムーブコンストラクター・ムーブ代入演算子は、それらのコピー版もそうであるように、コンパイラーが自動生成するケースがある。
  その条件は本文にある通りだが、ここではコピー演算、ムーブ演算の意味が明白でない……。
* 〈また、`default` を指定することができる〉とあり、新仕様の `default` を学習する必要がある。

以下のトピックは以上を完全に習得してから学習すること。

* 普遍参照：テンプレートや `auto` に `&&` をつける場合は意味が異なる。
* 完全転送
  * 〈引数をユニヴァーサル参照で宣言した場合安易にムーブできない。
    引数は右辺値参照の場合と左辺値参照の場合両方があり得るからである〉
  * `std::forward()`

あとはこの機能が必要になった背景・経緯を読んでおくといい。
やはり `std::auto_ptr` はインターフェイスに問題があった。しかしそのおかげでここで観てきたような諸概念が標準に導入されたのだから良かった。

ちなみに `std::auto_ptr` は C++11 から deprecated らしい。
