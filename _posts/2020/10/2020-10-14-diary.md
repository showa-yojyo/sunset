---
title: 171 日目（曇り一時晴れ）荒川区に往復するだけでも時間をけっこう使う
---

0:30 麻雀の練習をしてから就寝。

8:55 起床。洗濯と朝飯。天気予報を確認して洗濯物を干して PC と鞄を持って外出。
明治通りの東向島広小路バス停から日暮里方面に出る。

10:20 荒川区ゆいの森あらかわ入館。吹き抜け前の閲覧席に着席。

11:25 オフラインで [MathJax](http://docs.mathjax.org/en/latest/index.html) を稼働できる環境を構築しておく。
ブログの数式は編集時にプレビューできるので問題なかったが、読書ノートのほうの数式が reST で書いているので
VS Code のプラグインではプレビューできない。自力でなんとかするしかないのだ。

ちょっと調べると、単に MathJax をダウンロードして、HTML の `script` のソースでインストールパスを指示すればいいらしい。
ビルド済みの MathJax をインストールするのに `npm` を用いる。

ローカルで MathJax を動作させるためのプロジェクトのディレクトリーを作る。
そこで `npm init` を実行して config ファイルを編集する。値をどう定義すればよいのかわからぬキーがあるが、いったん無視する。
このサブディレクトリーで `npm install mathjax@3` を実行すれば `mathjax` のパッケージが含まれることになる。
これで行くしかない。

12:20 図書館滞在時間切れ前になんとか環境を作れた。GitHub にバックアップをとっておく。
デフォルトのブランチ名が `master` から `main` に変更されている。どういう意味があるのか？

急いで撤収。芝生でメールを確認。きのう応募したうちの一社から連絡あり。
書類選考が二週間かかるかもしれないだと？ そんなに多忙な事業所に勤めるのは嫌だ。

区役所前の公園を通り抜けて明治通りに出る。いまのうちに食料を調達しておこう。

13:00 ビッグエー荒川三丁目店。181 円。

* 大きなおむすびお茶漬け
* すっぱムーチョ梅

さらなる遠出を思いとどまる。亀戸駅行きのバスに乗って東向島広小路まで移動。

13:45 曳舟の部屋に戻る。妙に時間がかかった。おやつ休憩。
お茶漬けおむすびがえらく塩っぱい。夏向け。もっと早く出して欲しいところ。

プレハブ小屋読書ノートの MathJax を v3 に上げる作業をする。作業用ブランチはホームレスのときに定義していたようだ。再利用する。
Sphinx の HTML テンプレート内のスクリプトパス設定も MathJax 系統を一つに統合できた。
不思議なことに、オフラインで作業をしているのに、MathJax の URL を本番用のものに書き換えてもなぜか数式がレンダリングされる。
キャッシュが効き過ぎているのか。

メールを確認。迷惑メールフォルダーにもう一社からの返信が放り込まれていた。面接が決まった。
文面から、私の添付した応募書類には目を通していることが窺えて安心だ（ろくに見ないで返信をくれる採用担当者がけっこういる）。
しかし日程が来週とは。随分と間が空いてしまった。またイライラして逃避行に走るか？

15:40 時間が空いたので、地獄の伯爵令嬢の逆襲のコモンイベントを見る。
「イベント処理中断」というのは、入れ子になったイベント呼び出しの深いところからでも一気に中断するというのであれば、楽ができると思う。
石碑のコード量を減らせそうだ。

夕方外出。徒歩で押上一丁目停留所へ行き、そこからバスで太平四丁目に移動。
タイトー F ステーションオリナス錦糸町店で MJ を 5 クレ遊ぶ。

```text
【SCORE】
合計SCORE:+24.4

【最終段位】
四人打ち段位:鬼神 幻球:13

【10/14の最新8試合の履歴】
1st|---**---
2nd|*------*
3rd|-**--**-
4th|--------
old         new

【順位】
1位回数:2(20.00%)
2位回数:3(30.00%)
3位回数:4(40.00%)
4位回数:1(10.00%)
平均順位:2.40

プレイ局数:46局

【打ち筋】
アガリ率:19.57%(9/46)
平均アガリ翻:3.67翻
平均アガリ巡目:12.78巡
振込み率:13.04%(6/46)

【10/14の最高役】
・跳満
```

最後のゲームのオーラスで、場を見て筒子待ちにしたチートイをツモアガリできたのが地味にうれしい。

19:35 カスミオリナス錦糸町店。300 円。若鶏もも唐揚明太子弁当。

20:05 ビッグエー墨田業平店。201 円。

* シュークリーム
* レーズンロール (4)
* 小粒納豆 (3)

20:15 曳舟の部屋に戻る。PC で帳簿をつけて晩飯。

20:40 ウディタ研究。コモンイベントに `CSelf0` などの（サブルーチンをスコープとするローカル変数？）を実引数として指定する方法がわかる。
エディットボックスをマニュアル入力にして `1600000` とすればいい。

というか、こんなことをしていないでサンプルゲームのコードを研究するのが王道だろう。

22:30 風呂から上がる。ウディタをやる。きのうも悩んだと思うが、「変数」という変数をサブルーチンの引数にできなくて困っている。
要するに C/C++ で言うところのポインターまたは参照渡しと同等のことをしたい。
例えば 6 番目の「変数」を意味するマジックナンバー `2000006` を渡すと、呼び出しが側ではその変数の値として解釈されてしまう。
「変数」に値をセットするサブルーチンを書くことができない。時間を使い過ぎている。
