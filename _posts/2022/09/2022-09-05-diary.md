---
title: 862 日目（晴れ）Sphinx は時代遅れということはないか
---

[HTML Theming — Sphinx documentation](https://www.sphinx-doc.org/en/master/usage/theming.html)
に決定的な記述があるのを認める。Sphinx 組み込みのテーマの集合のうち、ごく限られたものしか
私の要求に応えていないという：

> Note that from these themes only the Alabaster and Scrolls themes are
> mobile-optimated, the other themes resort to horizontal scrolling if the
> screen is too narrow.

ローカルリポジトリーの作業ブランチを作成しておこう。やりたいことが複数あるので整理しておく。
目的は生成される HTML を PC でも携帯電話でもまともに閲覧できる品質にすることだが、次の項目群に分割できる：

* テーマを上述のどれかに置き換える。
* テーマ、テンプレートのカスタマイズは現行のものを継承する。
* Sphinx の余分な機能を引き続き無効にする。

さらに

* GitHub の自動ビルド機能を活用する。
* 古い機能を捨てる。

1:20 テーマを [Alabaster](https://alabaster.readthedocs.io/en/latest/)
に切り替えてビルド。カスタマイズするまでもなく読み易さは十分確保されている。
が、さらなる品質向上を追求して、テーマが用意しているオプションも調査する。

DOLCE プロの[海腹川背](https://www.youtube.com/watch?v=UCUMkWdQj98)を最初からチェック。

2:50 消灯。就寝。

何のノルマもない月曜であることと、単に疲労がひどいこととで眠りが深い。

11:05 起床。納豆とオレンジクリームチーズコッペを食す。歯を磨く。

11:35 PC を開く。ゆうべの作業を続ける。

12:40 MathJax のインポートにバグがあるのを修正。遅延ロードしないとマクロが効かない。
さらに `conf.py` に `sphinx.ext.mathjax` 専用の設定項目が存在することを見落としていた。

CSS はファイル `_static/custom.css` にオーバーライドしたいルールをベタ書きするようだ。
生成された HTML ファイルをチェックすると、このスタイルシートを最後にロードさせる意図があるらしい。

検索欄削除。

CSS を試行錯誤していたら行き詰まった。`alabaster.css` を全体的に上書きするほうが早いまである。

15:05 おやつ休憩。

15:25 歯を磨く。

16:10 スタイルシートの調整を終える。本体の残りはフッター自体のカスタマイズ。
テーマというよりテンプレートを上書きするはず。

[蒲生駅にある麻雀clubストライクで打ってきました - YouTube](https://www.youtube.com/watch?v=Y-53lJ99LtM):
駅周辺が北越谷駅のそれと酷似している。東武鉄道の方針なのかもしれない。

17:00 PC を閉じて外出。

コンビニでタフをチェック。鬼龍の幻魔が快癒して良かった。それにしても今回の終わり方が不穏だ。

17:25 キャンドゥイトーヨーカドー曳舟店。330 円。

* イヤホン
* 髪とるフィルター (12)
* 髪とるネット (30)

ひきふね図書館。月刊将棋世界と週刊ファミ通の注目連載だけチェック。
あとは四階で某ハードカバー本。やっと読み終える。
読了後にここに書名を記す算段でいたが、内容が少々危険であることと、分冊が存在するためまだ保留する。

19:20 退館。イトーヨーカドー曳舟店二階。携帯電話をチェック。

20:10 コモディイイダ東向島店。586 円。

* さば竜田と彩り野菜の甘酢あん弁当
* ベビーチーズ (4)
* ソースコロッケ

曳舟の部屋。風呂掃除用具を然るべき排水口にはめる。抜け毛が酷いのでこれくらいしておかないと。
満を持してシャワーを浴びる。

20:40 シャワー終了。PC を開いて晩飯。DOLCE プロの海腹川背を少しずつ視聴する。
ゼルダのフックショットのような機能に選択肢が多くて、状況に応じた適切な方策を決めるのが難しいようだ。

21:20 歯を磨く。テーマかテンプレいじりの検討に移る。
本番環境だとビルドに時間がかかり過ぎるので、原稿数を極端に減らしたものを用意し、そちらで試行錯誤する。
このミニ環境は今後も大いに活用できるものと考えられる。
なぜ今までこれを準備しなかったのか。

フッターは HTML5 のレイアウト機能を使えるようにした。
テーマ Alabaster が提供する HTML が旧式らしいので、このやり方は反則かもしれない。

日付が変わるまでひたすら Alabaster のパラメーターと CSS をいじる。
というか、テーマの上書きにまで踏み込むか否かで迷い続ける。やめる方向で行く。
